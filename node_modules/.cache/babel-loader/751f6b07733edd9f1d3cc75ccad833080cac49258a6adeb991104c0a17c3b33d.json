{"ast":null,"code":"// Lightweight EMA utilities\nexport function sma(values){if(!values||values.length===0)return null;const sum=values.reduce((s,v)=>s+v,0);return sum/values.length;}// Calculate the last EMA value for an array of closing prices.\n// values: array of numbers (chronological oldest->newest), period: integer\nexport function calculateInitialEMA(values,period){if(!Array.isArray(values)||values.length<period){throw new Error('Not enough data to calculate initial EMA');}// Start with SMA of the first `period` values\nlet ema=sma(values.slice(0,period));const multiplier=2/(period+1);// Apply EMA formula for the rest of the values\nfor(let i=period;i<values.length;i++){const price=values[i];ema=(price-ema)*multiplier+ema;}return ema;}// Update EMA given previous EMA and the latest price\nexport function updateEMA(prevEMA,price,period){const multiplier=2/(period+1);return(price-prevEMA)*multiplier+prevEMA;}const ema={sma,calculateInitialEMA,updateEMA};export default ema;","map":{"version":3,"names":["sma","values","length","sum","reduce","s","v","calculateInitialEMA","period","Array","isArray","Error","ema","slice","multiplier","i","price","updateEMA","prevEMA"],"sources":["C:/Users/e1it3/Desktop/program/binance_alert/src/utils/ema.js"],"sourcesContent":["// Lightweight EMA utilities\r\nexport function sma(values) {\r\n  if (!values || values.length === 0) return null;\r\n  const sum = values.reduce((s, v) => s + v, 0);\r\n  return sum / values.length;\r\n}\r\n\r\n// Calculate the last EMA value for an array of closing prices.\r\n// values: array of numbers (chronological oldest->newest), period: integer\r\nexport function calculateInitialEMA(values, period) {\r\n  if (!Array.isArray(values) || values.length < period) {\r\n    throw new Error('Not enough data to calculate initial EMA');\r\n  }\r\n\r\n  // Start with SMA of the first `period` values\r\n  let ema = sma(values.slice(0, period));\r\n  const multiplier = 2 / (period + 1);\r\n\r\n  // Apply EMA formula for the rest of the values\r\n  for (let i = period; i < values.length; i++) {\r\n    const price = values[i];\r\n    ema = (price - ema) * multiplier + ema;\r\n  }\r\n\r\n  return ema;\r\n}\r\n\r\n// Update EMA given previous EMA and the latest price\r\nexport function updateEMA(prevEMA, price, period) {\r\n  const multiplier = 2 / (period + 1);\r\n  return (price - prevEMA) * multiplier + prevEMA;\r\n}\r\n\r\nconst ema = { sma, calculateInitialEMA, updateEMA };\r\nexport default ema;\r\n"],"mappings":"AAAA;AACA,MAAO,SAAS,CAAAA,GAAGA,CAACC,MAAM,CAAE,CAC1B,GAAI,CAACA,MAAM,EAAIA,MAAM,CAACC,MAAM,GAAK,CAAC,CAAE,MAAO,KAAI,CAC/C,KAAM,CAAAC,GAAG,CAAGF,MAAM,CAACG,MAAM,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAKD,CAAC,CAAGC,CAAC,CAAE,CAAC,CAAC,CAC7C,MAAO,CAAAH,GAAG,CAAGF,MAAM,CAACC,MAAM,CAC5B,CAEA;AACA;AACA,MAAO,SAAS,CAAAK,mBAAmBA,CAACN,MAAM,CAAEO,MAAM,CAAE,CAClD,GAAI,CAACC,KAAK,CAACC,OAAO,CAACT,MAAM,CAAC,EAAIA,MAAM,CAACC,MAAM,CAAGM,MAAM,CAAE,CACpD,KAAM,IAAI,CAAAG,KAAK,CAAC,0CAA0C,CAAC,CAC7D,CAEA;AACA,GAAI,CAAAC,GAAG,CAAGZ,GAAG,CAACC,MAAM,CAACY,KAAK,CAAC,CAAC,CAAEL,MAAM,CAAC,CAAC,CACtC,KAAM,CAAAM,UAAU,CAAG,CAAC,EAAIN,MAAM,CAAG,CAAC,CAAC,CAEnC;AACA,IAAK,GAAI,CAAAO,CAAC,CAAGP,MAAM,CAAEO,CAAC,CAAGd,MAAM,CAACC,MAAM,CAAEa,CAAC,EAAE,CAAE,CAC3C,KAAM,CAAAC,KAAK,CAAGf,MAAM,CAACc,CAAC,CAAC,CACvBH,GAAG,CAAG,CAACI,KAAK,CAAGJ,GAAG,EAAIE,UAAU,CAAGF,GAAG,CACxC,CAEA,MAAO,CAAAA,GAAG,CACZ,CAEA;AACA,MAAO,SAAS,CAAAK,SAASA,CAACC,OAAO,CAAEF,KAAK,CAAER,MAAM,CAAE,CAChD,KAAM,CAAAM,UAAU,CAAG,CAAC,EAAIN,MAAM,CAAG,CAAC,CAAC,CACnC,MAAO,CAACQ,KAAK,CAAGE,OAAO,EAAIJ,UAAU,CAAGI,OAAO,CACjD,CAEA,KAAM,CAAAN,GAAG,CAAG,CAAEZ,GAAG,CAAEO,mBAAmB,CAAEU,SAAU,CAAC,CACnD,cAAe,CAAAL,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}