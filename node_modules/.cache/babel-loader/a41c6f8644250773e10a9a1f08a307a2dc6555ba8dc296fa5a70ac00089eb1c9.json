{"ast":null,"code":"import React,{useState,useRef}from'react';import{startScanner}from'../utils/scanner';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Scanner(){const[symbolsText,setSymbolsText]=useState('BTCUSDT,ETHUSDT');const[delayMs,setDelayMs]=useState(500);const[running,setRunning]=useState(false);const[results,setResults]=useState([]);const controllerRef=useRef(null);function addResult(r){setResults(s=>{const next=[r,...s].slice(0,200);return next;});}function handleStart(){const symbols=(symbolsText||'').split(',').map(s=>s.trim()).filter(Boolean);setResults([]);setRunning(true);const ctrl=startScanner(symbols,{delayMs:Number(delayMs)||500},res=>{addResult(res);});controllerRef.current=ctrl;}function handleStop(){try{controllerRef.current&&controllerRef.current.stop();}catch(e){}controllerRef.current=null;setRunning(false);}return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{marginBottom:12},children:[/*#__PURE__*/_jsx(\"div\",{className:\"header\",children:/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:\"Symbol Scanner\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:12},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:8,alignItems:'center',marginBottom:8},children:[/*#__PURE__*/_jsx(\"input\",{style:{flex:1},value:symbolsText,onChange:e=>setSymbolsText(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{style:{width:100},value:delayMs,onChange:e=>setDelayMs(e.target.value)}),!running?/*#__PURE__*/_jsx(\"button\",{onClick:handleStart,children:\"Start\"}):/*#__PURE__*/_jsx(\"button\",{onClick:handleStop,children:\"Stop\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.9rem',color:'#666',marginBottom:8},children:\"Delay per request (ms) - keep this >= 300 to avoid API limits\"}),/*#__PURE__*/_jsx(\"div\",{style:{maxHeight:240,overflow:'auto',borderTop:'1px solid #eee',paddingTop:8},children:/*#__PURE__*/_jsxs(\"table\",{style:{width:'100%',borderCollapse:'collapse'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{style:{textAlign:'left'},children:[/*#__PURE__*/_jsx(\"th\",{children:\"Symbol\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Crossed\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Direction\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"When\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Error\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:results.map((r,idx)=>/*#__PURE__*/_jsxs(\"tr\",{style:{borderTop:'1px solid #f2f2f2'},children:[/*#__PURE__*/_jsx(\"td\",{children:r.symbol}),/*#__PURE__*/_jsx(\"td\",{children:r.crossed?'YES':'—'}),/*#__PURE__*/_jsx(\"td\",{children:r.direction||'—'}),/*#__PURE__*/_jsx(\"td\",{children:typeof r.price!=='undefined'?r.price:'—'}),/*#__PURE__*/_jsx(\"td\",{style:{fontSize:'0.8rem'},children:r.when||'—'}),/*#__PURE__*/_jsx(\"td\",{style:{color:'crimson'},children:r.error||''})]},idx))})]})})]})]});}","map":{"version":3,"names":["React","useState","useRef","startScanner","jsx","_jsx","jsxs","_jsxs","Scanner","symbolsText","setSymbolsText","delayMs","setDelayMs","running","setRunning","results","setResults","controllerRef","addResult","r","s","next","slice","handleStart","symbols","split","map","trim","filter","Boolean","ctrl","Number","res","current","handleStop","stop","e","className","style","marginBottom","children","padding","display","gap","alignItems","flex","value","onChange","target","width","onClick","fontSize","color","maxHeight","overflow","borderTop","paddingTop","borderCollapse","textAlign","idx","symbol","crossed","direction","price","when","error"],"sources":["C:/Users/e1it3/Desktop/program/binance_alert/src/components/Scanner.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\r\nimport { startScanner } from '../utils/scanner';\r\n\r\nexport default function Scanner() {\r\n  const [symbolsText, setSymbolsText] = useState('BTCUSDT,ETHUSDT');\r\n  const [delayMs, setDelayMs] = useState(500);\r\n  const [running, setRunning] = useState(false);\r\n  const [results, setResults] = useState([]);\r\n  const controllerRef = useRef(null);\r\n\r\n  function addResult(r) {\r\n    setResults((s) => {\r\n      const next = [r, ...s].slice(0, 200);\r\n      return next;\r\n    });\r\n  }\r\n\r\n  function handleStart() {\r\n    const symbols = (symbolsText || '').split(',').map((s) => s.trim()).filter(Boolean);\r\n    setResults([]);\r\n    setRunning(true);\r\n    const ctrl = startScanner(symbols, { delayMs: Number(delayMs) || 500 }, (res) => {\r\n      addResult(res);\r\n    });\r\n    controllerRef.current = ctrl;\r\n  }\r\n\r\n  function handleStop() {\r\n    try { controllerRef.current && controllerRef.current.stop(); } catch (e) {}\r\n    controllerRef.current = null;\r\n    setRunning(false);\r\n  }\r\n\r\n  return (\r\n    <div className=\"card\" style={{marginBottom: 12}}>\r\n      <div className=\"header\">\r\n        <div className=\"title\">Symbol Scanner</div>\r\n      </div>\r\n      <div style={{padding: 12}}>\r\n        <div style={{display: 'flex', gap: 8, alignItems: 'center', marginBottom: 8}}>\r\n          <input style={{flex:1}} value={symbolsText} onChange={(e) => setSymbolsText(e.target.value)} />\r\n          <input style={{width:100}} value={delayMs} onChange={(e) => setDelayMs(e.target.value)} />\r\n          {!running ? (\r\n            <button onClick={handleStart}>Start</button>\r\n          ) : (\r\n            <button onClick={handleStop}>Stop</button>\r\n          )}\r\n        </div>\r\n\r\n  <div style={{fontSize: '0.9rem', color: '#666', marginBottom: 8}}>Delay per request (ms) - keep this &gt;= 300 to avoid API limits</div>\r\n\r\n        <div style={{maxHeight: 240, overflow: 'auto', borderTop: '1px solid #eee', paddingTop:8}}>\r\n          <table style={{width:'100%', borderCollapse: 'collapse'}}>\r\n            <thead>\r\n              <tr style={{textAlign:'left'}}>\r\n                <th>Symbol</th><th>Crossed</th><th>Direction</th><th>Price</th><th>When</th><th>Error</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {results.map((r, idx) => (\r\n                <tr key={idx} style={{borderTop: '1px solid #f2f2f2'}}>\r\n                  <td>{r.symbol}</td>\r\n                  <td>{r.crossed ? 'YES' : '—'}</td>\r\n                  <td>{r.direction || '—'}</td>\r\n                  <td>{typeof r.price !== 'undefined' ? r.price : '—'}</td>\r\n                  <td style={{fontSize:'0.8rem'}}>{r.when || '—'}</td>\r\n                  <td style={{color:'crimson'}}>{r.error || ''}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}