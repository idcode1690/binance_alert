{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\e1it3\\\\Desktop\\\\program\\\\binance_alert\\\\src\\\\pages\\\\ScannerPage.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { calculateInitialEMA, updateEMA } from '../utils/ema';\n\n// Simple chunk helper for controlled concurrency\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction chunk(arr, size) {\n  const out = [];\n  for (let i = 0; i < arr.length; i += size) out.push(arr.slice(i, i + size));\n  return out;\n}\nasync function fetchKlines5m(symbol, limit = 300) {\n  const url = `https://fapi.binance.com/fapi/v1/klines?symbol=${symbol}&interval=5m&limit=${limit}`;\n  const res = await fetch(url);\n  if (!res.ok) throw new Error(`klines fetch failed ${res.status}`);\n  const data = await res.json();\n  return data;\n}\nfunction computeEmaSnapshot(closes) {\n  if (!closes || closes.length < 200) return null;\n  const closesNum = closes.map(c => parseFloat(c));\n  // EMA at penultimate close\n  const ema26Prev = calculateInitialEMA(closesNum.slice(0, closesNum.length - 1), 26);\n  const ema200Prev = calculateInitialEMA(closesNum.slice(0, closesNum.length - 1), 200);\n  // EMA at last close\n  const last = closesNum[closesNum.length - 1];\n  const ema26Last = updateEMA(ema26Prev, last, 26);\n  const ema200Last = updateEMA(ema200Prev, last, 200);\n  const statePrev = ema26Prev > ema200Prev ? 'bull' : 'bear';\n  const stateNow = ema26Last > ema200Last ? 'bull' : 'bear';\n  const crossedNow = statePrev !== stateNow;\n  return {\n    ema26Prev,\n    ema200Prev,\n    ema26Last,\n    ema200Last,\n    statePrev,\n    stateNow,\n    crossedNow,\n    last\n  };\n}\nexport default function ScannerPage({\n  availableSymbols = [],\n  defaultLimit = 50\n}) {\n  _s();\n  const [maxSymbols, setMaxSymbols] = React.useState(defaultLimit);\n  const [onlyCross, setOnlyCross] = React.useState(false);\n  const [stateFilter, setStateFilter] = React.useState('any'); // any | bull | bear\n  const [results, setResults] = React.useState([]);\n  const [scanning, setScanning] = React.useState(false);\n  const [error, setError] = React.useState(null);\n  const symbolsUsdt = React.useMemo(() => {\n    const syms = (availableSymbols || []).filter(s => /USDT$/i.test(s));\n    // naive filter to avoid leveraged tokens\n    return syms.filter(s => !/(DOWN|UP|BULL|BEAR)/i.test(s));\n  }, [availableSymbols]);\n  const scanNow = React.useCallback(async () => {\n    setScanning(true);\n    setError(null);\n    try {\n      const list = symbolsUsdt.slice(0, Number(maxSymbols) || 0);\n      const chunks = chunk(list, 8);\n      const out = [];\n      for (const group of chunks) {\n        const groupResults = await Promise.all(group.map(async symbol => {\n          try {\n            var _data;\n            const data = await fetchKlines5m(symbol, 300);\n            const closes = data.map(row => row[4]);\n            const lastCloseTime = (_data = data[data.length - 1]) === null || _data === void 0 ? void 0 : _data[6];\n            const snap = computeEmaSnapshot(closes);\n            if (!snap) return null;\n            const row = {\n              symbol,\n              lastPrice: parseFloat(closes[closes.length - 1]).toFixed(6),\n              ema26: snap.ema26Last,\n              ema200: snap.ema200Last,\n              state: snap.stateNow,\n              crossedNow: snap.crossedNow,\n              time: lastCloseTime ? new Date(lastCloseTime).toLocaleString() : ''\n            };\n            return row;\n          } catch (e) {\n            // swallow errors per symbol\n            return null;\n          }\n        }));\n        out.push(...groupResults.filter(Boolean));\n        // yield to UI a bit\n        await new Promise(r => setTimeout(r, 50));\n      }\n\n      // apply filters\n      let filtered = out;\n      if (onlyCross) filtered = filtered.filter(r => r.crossedNow);\n      if (stateFilter !== 'any') filtered = filtered.filter(r => r.state === stateFilter);\n\n      // sort: crossed first, then by symbol\n      filtered.sort((a, b) => {\n        if (a.crossedNow && !b.crossedNow) return -1;\n        if (!a.crossedNow && b.crossedNow) return 1;\n        return a.symbol.localeCompare(b.symbol);\n      });\n      setResults(filtered);\n    } catch (e) {\n      setError(e.message || String(e));\n    } finally {\n      setScanning(false);\n    }\n  }, [symbolsUsdt, maxSymbols, onlyCross, stateFilter]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"controls\",\n      style: {\n        flexWrap: 'wrap',\n        rowGap: 8\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: scanNow,\n        disabled: scanning,\n        className: \"small-btn\",\n        children: scanning ? 'Scanning…' : 'Scan Now'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"controls-label\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"label-text\",\n          children: \"Max symbols\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          min: 1,\n          max: 500,\n          value: maxSymbols,\n          onChange: e => setMaxSymbols(e.target.value),\n          style: {\n            width: 90\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"control-inline-label\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          checked: onlyCross,\n          onChange: e => setOnlyCross(e.target.checked)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"label-text\",\n          children: \"Only new crosses (last closed)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"control-inline-label\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"label-text\",\n          children: \"State\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: stateFilter,\n          onChange: e => setStateFilter(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"any\",\n            children: \"Any\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"bull\",\n            children: \"Bullish (EMA26 > EMA200)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"bear\",\n            children: \"Bearish (EMA26 < EMA200)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginLeft: 'auto',\n          fontSize: 12,\n          color: '#6b7280'\n        },\n        children: [\"Universe: \", symbolsUsdt.length, \" USDT pairs\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"invalid-msg\",\n      style: {\n        marginTop: 8\n      },\n      children: [\"Error: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alerts\",\n      style: {\n        marginTop: 12\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alerts-title\",\n        style: {\n          fontSize: 14,\n          fontWeight: 600\n        },\n        children: \"Scan Results\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"alerts-list\",\n        children: [results.length === 0 && /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"alert-item\",\n          style: {\n            color: '#6b7280'\n          },\n          children: scanning ? 'Scanning…' : 'No results yet. Click \"Scan Now\".'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 13\n        }, this), results.map(r => {\n          var _r$ema, _r$ema2;\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"alert-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"alert-left\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: `alert-indicator ${r.state === 'bull' ? 'bull' : 'bear'}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"alert-symbol\",\n                children: r.symbol\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"alert-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"alert-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"alert-type-short\",\n                  children: r.state\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"alert-time\",\n                  children: r.time\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"alert-right\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"alert-price\",\n                  children: r.lastPrice\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontSize: '0.75rem',\n                    color: '#6b7280'\n                  },\n                  children: [\"EMA26 \", (_r$ema = r.ema26) === null || _r$ema === void 0 ? void 0 : _r$ema.toFixed(6), \" \\xB7 EMA200 \", (_r$ema2 = r.ema200) === null || _r$ema2 === void 0 ? void 0 : _r$ema2.toFixed(6), r.crossedNow ? ' · crossed' : '']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 15\n            }, this)]\n          }, r.symbol, true, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 5\n  }, this);\n}\n_s(ScannerPage, \"EJhAFVtaFdXdn/UbYKix5AGWwGw=\");\n_c = ScannerPage;\nvar _c;\n$RefreshReg$(_c, \"ScannerPage\");","map":{"version":3,"names":["React","calculateInitialEMA","updateEMA","jsxDEV","_jsxDEV","chunk","arr","size","out","i","length","push","slice","fetchKlines5m","symbol","limit","url","res","fetch","ok","Error","status","data","json","computeEmaSnapshot","closes","closesNum","map","c","parseFloat","ema26Prev","ema200Prev","last","ema26Last","ema200Last","statePrev","stateNow","crossedNow","ScannerPage","availableSymbols","defaultLimit","_s","maxSymbols","setMaxSymbols","useState","onlyCross","setOnlyCross","stateFilter","setStateFilter","results","setResults","scanning","setScanning","error","setError","symbolsUsdt","useMemo","syms","filter","s","test","scanNow","useCallback","list","Number","chunks","group","groupResults","Promise","all","_data","row","lastCloseTime","snap","lastPrice","toFixed","ema26","ema200","state","time","Date","toLocaleString","e","Boolean","r","setTimeout","filtered","sort","a","b","localeCompare","message","String","children","className","style","flexWrap","rowGap","onClick","disabled","fileName","_jsxFileName","lineNumber","columnNumber","type","min","max","value","onChange","target","width","checked","marginLeft","fontSize","color","marginTop","fontWeight","_r$ema","_r$ema2","_c","$RefreshReg$"],"sources":["C:/Users/e1it3/Desktop/program/binance_alert/src/pages/ScannerPage.js"],"sourcesContent":["import React from 'react';\r\nimport { calculateInitialEMA, updateEMA } from '../utils/ema';\r\n\r\n// Simple chunk helper for controlled concurrency\r\nfunction chunk(arr, size) {\r\n  const out = [];\r\n  for (let i = 0; i < arr.length; i += size) out.push(arr.slice(i, i + size));\r\n  return out;\r\n}\r\n\r\nasync function fetchKlines5m(symbol, limit = 300) {\r\n  const url = `https://fapi.binance.com/fapi/v1/klines?symbol=${symbol}&interval=5m&limit=${limit}`;\r\n  const res = await fetch(url);\r\n  if (!res.ok) throw new Error(`klines fetch failed ${res.status}`);\r\n  const data = await res.json();\r\n  return data;\r\n}\r\n\r\nfunction computeEmaSnapshot(closes) {\r\n  if (!closes || closes.length < 200) return null;\r\n  const closesNum = closes.map((c) => parseFloat(c));\r\n  // EMA at penultimate close\r\n  const ema26Prev = calculateInitialEMA(closesNum.slice(0, closesNum.length - 1), 26);\r\n  const ema200Prev = calculateInitialEMA(closesNum.slice(0, closesNum.length - 1), 200);\r\n  // EMA at last close\r\n  const last = closesNum[closesNum.length - 1];\r\n  const ema26Last = updateEMA(ema26Prev, last, 26);\r\n  const ema200Last = updateEMA(ema200Prev, last, 200);\r\n  const statePrev = ema26Prev > ema200Prev ? 'bull' : 'bear';\r\n  const stateNow = ema26Last > ema200Last ? 'bull' : 'bear';\r\n  const crossedNow = statePrev !== stateNow;\r\n  return { ema26Prev, ema200Prev, ema26Last, ema200Last, statePrev, stateNow, crossedNow, last };\r\n}\r\n\r\nexport default function ScannerPage({ availableSymbols = [], defaultLimit = 50 }) {\r\n  const [maxSymbols, setMaxSymbols] = React.useState(defaultLimit);\r\n  const [onlyCross, setOnlyCross] = React.useState(false);\r\n  const [stateFilter, setStateFilter] = React.useState('any'); // any | bull | bear\r\n  const [results, setResults] = React.useState([]);\r\n  const [scanning, setScanning] = React.useState(false);\r\n  const [error, setError] = React.useState(null);\r\n\r\n  const symbolsUsdt = React.useMemo(() => {\r\n    const syms = (availableSymbols || []).filter((s) => /USDT$/i.test(s));\r\n    // naive filter to avoid leveraged tokens\r\n    return syms.filter((s) => !/(DOWN|UP|BULL|BEAR)/i.test(s));\r\n  }, [availableSymbols]);\r\n\r\n  const scanNow = React.useCallback(async () => {\r\n    setScanning(true);\r\n    setError(null);\r\n    try {\r\n      const list = symbolsUsdt.slice(0, Number(maxSymbols) || 0);\r\n      const chunks = chunk(list, 8);\r\n      const out = [];\r\n\r\n      for (const group of chunks) {\r\n        const groupResults = await Promise.all(\r\n          group.map(async (symbol) => {\r\n            try {\r\n              const data = await fetchKlines5m(symbol, 300);\r\n              const closes = data.map((row) => row[4]);\r\n              const lastCloseTime = data[data.length - 1]?.[6];\r\n              const snap = computeEmaSnapshot(closes);\r\n              if (!snap) return null;\r\n\r\n              const row = {\r\n                symbol,\r\n                lastPrice: parseFloat(closes[closes.length - 1]).toFixed(6),\r\n                ema26: snap.ema26Last,\r\n                ema200: snap.ema200Last,\r\n                state: snap.stateNow,\r\n                crossedNow: snap.crossedNow,\r\n                time: lastCloseTime ? new Date(lastCloseTime).toLocaleString() : '',\r\n              };\r\n              return row;\r\n            } catch (e) {\r\n              // swallow errors per symbol\r\n              return null;\r\n            }\r\n          })\r\n        );\r\n        out.push(...groupResults.filter(Boolean));\r\n        // yield to UI a bit\r\n        await new Promise((r) => setTimeout(r, 50));\r\n      }\r\n\r\n      // apply filters\r\n      let filtered = out;\r\n      if (onlyCross) filtered = filtered.filter((r) => r.crossedNow);\r\n      if (stateFilter !== 'any') filtered = filtered.filter((r) => r.state === stateFilter);\r\n\r\n      // sort: crossed first, then by symbol\r\n      filtered.sort((a, b) => {\r\n        if (a.crossedNow && !b.crossedNow) return -1;\r\n        if (!a.crossedNow && b.crossedNow) return 1;\r\n        return a.symbol.localeCompare(b.symbol);\r\n      });\r\n\r\n      setResults(filtered);\r\n    } catch (e) {\r\n      setError(e.message || String(e));\r\n    } finally {\r\n      setScanning(false);\r\n    }\r\n  }, [symbolsUsdt, maxSymbols, onlyCross, stateFilter]);\r\n\r\n  return (\r\n    <div>\r\n      {/* Controls bar — reuse app control styles for consistency */}\r\n      <div className=\"controls\" style={{ flexWrap: 'wrap', rowGap: 8 }}>\r\n        <button onClick={scanNow} disabled={scanning} className=\"small-btn\">\r\n          {scanning ? 'Scanning…' : 'Scan Now'}\r\n        </button>\r\n        <div className=\"controls-label\">\r\n          <span className=\"label-text\">Max symbols</span>\r\n          <input\r\n            type=\"number\"\r\n            min={1}\r\n            max={500}\r\n            value={maxSymbols}\r\n            onChange={(e) => setMaxSymbols(e.target.value)}\r\n            style={{ width: 90 }}\r\n          />\r\n        </div>\r\n        <label className=\"control-inline-label\">\r\n          <input type=\"checkbox\" checked={onlyCross} onChange={(e) => setOnlyCross(e.target.checked)} />\r\n          <span className=\"label-text\">Only new crosses (last closed)</span>\r\n        </label>\r\n        <div className=\"control-inline-label\">\r\n          <span className=\"label-text\">State</span>\r\n          <select value={stateFilter} onChange={(e) => setStateFilter(e.target.value)}>\r\n            <option value=\"any\">Any</option>\r\n            <option value=\"bull\">Bullish (EMA26 &gt; EMA200)</option>\r\n            <option value=\"bear\">Bearish (EMA26 &lt; EMA200)</option>\r\n          </select>\r\n        </div>\r\n        <div style={{ marginLeft: 'auto', fontSize: 12, color: '#6b7280' }}>\r\n          Universe: {symbolsUsdt.length} USDT pairs\r\n        </div>\r\n      </div>\r\n\r\n      {error && (\r\n        <div className=\"invalid-msg\" style={{ marginTop: 8 }}>\r\n          Error: {error}\r\n        </div>\r\n      )}\r\n\r\n      {/* Results list — style similar to alerts list for visual consistency */}\r\n      <div className=\"alerts\" style={{ marginTop: 12 }}>\r\n        <div className=\"alerts-title\" style={{ fontSize: 14, fontWeight: 600 }}>Scan Results</div>\r\n        <ul className=\"alerts-list\">\r\n          {results.length === 0 && (\r\n            <li className=\"alert-item\" style={{ color: '#6b7280' }}>\r\n              {scanning ? 'Scanning…' : 'No results yet. Click \"Scan Now\".'}\r\n            </li>\r\n          )}\r\n          {results.map((r) => (\r\n            <li key={r.symbol} className=\"alert-item\">\r\n              <div className=\"alert-left\">\r\n                <span className={`alert-indicator ${r.state === 'bull' ? 'bull' : 'bear'}`} />\r\n                <div className=\"alert-symbol\">{r.symbol}</div>\r\n              </div>\r\n              <div className=\"alert-body\">\r\n                <div className=\"alert-info\">\r\n                  <div className=\"alert-type-short\">{r.state}</div>\r\n                  <div className=\"alert-time\">{r.time}</div>\r\n                </div>\r\n                <div className=\"alert-right\">\r\n                  <div className=\"alert-price\">{r.lastPrice}</div>\r\n                  <div style={{ fontSize: '0.75rem', color: '#6b7280' }}>\r\n                    EMA26 {r.ema26?.toFixed(6)} · EMA200 {r.ema200?.toFixed(6)}\r\n                    {r.crossedNow ? ' · crossed' : ''}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}