{"ast":null,"code":"import React,{useCallback,useEffect,useState}from'react';import'./App.css';import TopMenu from'./components/TopMenu';import ScannerPage from'./pages/ScannerPage';import Alerts from'./components/Alerts';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[view,setView]=useState('scanner');// Monitoring settings shared across pages\nconst[monitorMinutes,setMonitorMinutes]=useState(5);const[monitorEma1,setMonitorEma1]=useState(26);const[monitorEma2,setMonitorEma2]=useState(200);const[monitorConfirm,setMonitorConfirm]=useState(1);// symbol list (optional) and alerts/events\nconst[availableSymbols,setAvailableSymbols]=useState([]);const[events,setEvents]=useState([]);useEffect(()=>{try{const raw=localStorage.getItem('alerts');if(raw)setEvents(JSON.parse(raw));}catch(e){setEvents([]);}},[]);const fetchExchangeInfo=useCallback(async()=>{try{const res=await fetch('https://fapi.binance.com/fapi/v1/exchangeInfo');if(!res.ok)return;const data=await res.json();if(data&&Array.isArray(data.symbols)){setAvailableSymbols(data.symbols.map(s=>s.symbol));}}catch(e){}},[]);const removeAlertByTs=useCallback(ts=>{setEvents(prev=>{const next=(prev||[]).filter(e=>e&&e.ts!==ts);try{localStorage.setItem('alerts',JSON.stringify(next));}catch(err){}return next;});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(TopMenu,{onNavigate:setView,view:view}),/*#__PURE__*/_jsxs(\"main\",{style:{maxWidth:980,margin:'12px auto',padding:'0 12px'},children:[view==='scanner'&&/*#__PURE__*/_jsx(ScannerPage,{availableSymbols:availableSymbols,fetchExchangeInfo:fetchExchangeInfo,monitorMinutes:monitorMinutes,setMonitorMinutes:setMonitorMinutes,monitorEma1:monitorEma1,setMonitorEma1:setMonitorEma1,monitorEma2:monitorEma2,setMonitorEma2:setMonitorEma2}),view==='alerts'&&/*#__PURE__*/_jsx(Alerts,{events:events,removeAlertByTs:removeAlertByTs,symbol:'',monitorMinutes:monitorMinutes,monitorEma1:monitorEma1,monitorEma2:monitorEma2,monitorConfirm:monitorConfirm})]})]});}export default App;","map":{"version":3,"names":["React","useCallback","useEffect","useState","TopMenu","ScannerPage","Alerts","jsx","_jsx","jsxs","_jsxs","App","view","setView","monitorMinutes","setMonitorMinutes","monitorEma1","setMonitorEma1","monitorEma2","setMonitorEma2","monitorConfirm","setMonitorConfirm","availableSymbols","setAvailableSymbols","events","setEvents","raw","localStorage","getItem","JSON","parse","e","fetchExchangeInfo","res","fetch","ok","data","json","Array","isArray","symbols","map","s","symbol","removeAlertByTs","ts","prev","next","filter","setItem","stringify","err","className","children","onNavigate","style","maxWidth","margin","padding"],"sources":["C:/Users/e1it3/Desktop/program/binance_alert/src/App.js"],"sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\r\nimport './App.css';\r\nimport TopMenu from './components/TopMenu';\r\nimport ScannerPage from './pages/ScannerPage';\r\nimport Alerts from './components/Alerts';\r\n\r\nfunction App() {\r\n  const [view, setView] = useState('scanner');\r\n\r\n  // Monitoring settings shared across pages\r\n  const [monitorMinutes, setMonitorMinutes] = useState(5);\r\n  const [monitorEma1, setMonitorEma1] = useState(26);\r\n  const [monitorEma2, setMonitorEma2] = useState(200);\r\n  const [monitorConfirm, setMonitorConfirm] = useState(1);\r\n\r\n  // symbol list (optional) and alerts/events\r\n  const [availableSymbols, setAvailableSymbols] = useState([]);\r\n  const [events, setEvents] = useState([]);\r\n\r\n  useEffect(() => {\r\n    try {\r\n      const raw = localStorage.getItem('alerts');\r\n      if (raw) setEvents(JSON.parse(raw));\r\n    } catch (e) {\r\n      setEvents([]);\r\n    }\r\n  }, []);\r\n\r\n  const fetchExchangeInfo = useCallback(async () => {\r\n    try {\r\n      const res = await fetch('https://fapi.binance.com/fapi/v1/exchangeInfo');\r\n      if (!res.ok) return;\r\n      const data = await res.json();\r\n      if (data && Array.isArray(data.symbols)) {\r\n        setAvailableSymbols(data.symbols.map((s) => s.symbol));\r\n      }\r\n    } catch (e) {}\r\n  }, []);\r\n\r\n  const removeAlertByTs = useCallback((ts) => {\r\n    setEvents((prev) => {\r\n      const next = (prev || []).filter((e) => e && e.ts !== ts);\r\n      try { localStorage.setItem('alerts', JSON.stringify(next)); } catch (err) {}\r\n      return next;\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <TopMenu onNavigate={setView} view={view} />\r\n\r\n      <main style={{ maxWidth: 980, margin: '12px auto', padding: '0 12px' }}>\r\n        {view === 'scanner' && (\r\n          <ScannerPage\r\n            availableSymbols={availableSymbols}\r\n            fetchExchangeInfo={fetchExchangeInfo}\r\n            monitorMinutes={monitorMinutes}\r\n            setMonitorMinutes={setMonitorMinutes}\r\n            monitorEma1={monitorEma1}\r\n            setMonitorEma1={setMonitorEma1}\r\n            monitorEma2={monitorEma2}\r\n            setMonitorEma2={setMonitorEma2}\r\n          />\r\n        )}\r\n\r\n        {view === 'alerts' && (\r\n          <Alerts\r\n            events={events}\r\n            removeAlertByTs={removeAlertByTs}\r\n            symbol={''}\r\n            monitorMinutes={monitorMinutes}\r\n            monitorEma1={monitorEma1}\r\n            monitorEma2={monitorEma2}\r\n            monitorConfirm={monitorConfirm}\r\n          />\r\n        )}\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}