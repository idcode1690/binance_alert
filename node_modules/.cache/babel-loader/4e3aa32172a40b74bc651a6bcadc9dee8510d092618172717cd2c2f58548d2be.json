{"ast":null,"code":"import _objectSpread from\"C:/Users/e1it3/Desktop/program/binance_alert/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState,useCallback}from'react';// 서버 설정 / 상태 / 심볼 관리 페이지\n// 포함 기능 (요청 순서 1~4 구현):\n// 1. 스캔 메타데이터(lastScanDuration, scannedCount, newMatches) 저장 및 표시\n// 2. /scan-now 수동 스캔 트리거 버튼\n// 3. 최근 매치 테이블 (최대 20개)\n// 4. Telegram 테스트 버튼 (/send-alert 사용)\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ServerSettingsPage(){var _cfg$crossCooldownMin,_form$crossCooldownMi;const raw=process.env.REACT_APP_SERVER_URL&&typeof process.env.REACT_APP_SERVER_URL==='string'?process.env.REACT_APP_SERVER_URL:'';const serverUrl=raw.trim().length>0?raw.trim():typeof window!=='undefined'?window.location.origin:'';const[loading,setLoading]=useState(false);const[cfg,setCfg]=useState(null);const[symbols,setSymbols]=useState([]);const[state,setState]=useState(null);const[form,setForm]=useState({interval:'5m',emaShort:26,emaLong:200,scanType:'both',crossCooldownMinutes:30});const[symbolsInput,setSymbolsInput]=useState('');const[message,setMessage]=useState(null);const[health,setHealth]=useState(null);const showMsg=useCallback(function(msg){let ok=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;setMessage({msg,ok,ts:Date.now()});setTimeout(()=>{setMessage(null);},4500);},[]);const fetchAll=useCallback(async()=>{if(!serverUrl)return;setLoading(true);try{const[cRes,sRes,stRes,hRes]=await Promise.all([fetch(\"\".concat(serverUrl,\"/config\")),fetch(\"\".concat(serverUrl,\"/symbols\")),fetch(\"\".concat(serverUrl,\"/scan-state\")),fetch(\"\".concat(serverUrl,\"/health\"))]);const cJson=await cRes.json().catch(()=>null);const sJson=await sRes.json().catch(()=>null);const stJson=await stRes.json().catch(()=>null);const hJson=await hRes.json().catch(()=>null);if(cJson&&cJson.ok&&cJson.config){setCfg(cJson.config);setForm(cJson.config);}if(sJson&&sJson.ok&&Array.isArray(sJson.symbols))setSymbols(sJson.symbols);if(stJson&&stJson.ok&&stJson.state)setState(stJson.state);if(hJson&&(hJson.ok||typeof hJson.telegramConfigured!=='undefined'))setHealth(hJson);}catch(e){showMsg('설정 조회 실패: '+String(e),false);}finally{setLoading(false);}},[serverUrl,showMsg]);useEffect(()=>{fetchAll();},[fetchAll]);const saveConfig=async()=>{if(!serverUrl)return;try{const body=_objectSpread({},form);if(typeof body.interval==='number'||/^\\d+$/.test(String(body.interval)))body.interval=\"\".concat(body.interval,\"m\");const res=await fetch(\"\".concat(serverUrl,\"/config\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(body)});const j=await res.json().catch(()=>null);if(res.ok&&j&&j.ok){setCfg(j.config);showMsg('설정 저장 완료');}else showMsg('설정 저장 실패',false);}catch(e){showMsg('설정 오류: '+String(e),false);}};const saveSymbols=async()=>{if(!serverUrl)return;try{let arr=symbolsInput.split(/[\\s,]+/).map(s=>s.trim()).filter(Boolean);if(!arr.length){showMsg('심볼 입력이 비어있습니다',false);return;}const res=await fetch(\"\".concat(serverUrl,\"/symbols\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(arr)});const j=await res.json().catch(()=>null);if(res.ok&&j&&j.ok){setSymbols(j.symbols);showMsg('심볼 저장 완료');}else showMsg('심볼 저장 실패',false);}catch(e){showMsg('심볼 오류: '+String(e),false);}};const saveSymbolsArray=async arr=>{if(!serverUrl)return;try{const res=await fetch(\"\".concat(serverUrl,\"/symbols\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(arr)});const j=await res.json().catch(()=>null);if(res.ok&&j&&j.ok){setSymbols(j.symbols);showMsg('심볼 저장 완료');}else showMsg('심볼 저장 실패',false);}catch(e){showMsg('심볼 오류: '+String(e),false);}};const removeSymbol=async sym=>{try{const next=symbols.filter(s=>s!==sym);setSymbols(next);await saveSymbolsArray(next);}catch(e){showMsg('삭제 실패: '+String(e),false);}};const runScanNow=async()=>{if(!serverUrl)return;try{const res=await fetch(\"\".concat(serverUrl,\"/scan-now\"),{method:'POST'});const j=await res.json().catch(()=>null);if(res.ok&&j){var _j$count;showMsg(\"\\uC218\\uB3D9 \\uC2A4\\uCE94 \\uC644\\uB8CC (count=\".concat((_j$count=j.count)!==null&&_j$count!==void 0?_j$count:0,\")\"));await refreshState();}else showMsg('수동 스캔 실패',false);}catch(e){showMsg('수동 스캔 오류: '+String(e),false);}};const testTelegram=async()=>{if(!serverUrl)return;try{const res=await fetch(\"\".concat(serverUrl,\"/send-alert\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({symbol:'TEST',message:'텔레그램 테스트',emaShort:form.emaShort,emaLong:form.emaLong})});const j=await res.json().catch(()=>null);if(res.ok&&j&&j.ok)showMsg('텔레그램 전송 성공');else showMsg('텔레그램 전송 실패',false);}catch(e){showMsg('텔레그램 오류: '+String(e),false);}};const refreshState=async()=>{if(!serverUrl)return;try{const res=await fetch(\"\".concat(serverUrl,\"/scan-state\"));const j=await res.json().catch(()=>null);if(res.ok&&j&&j.ok){setState(j.state);showMsg('상태 새로고침 완료');}else showMsg('상태 조회 실패',false);}catch(e){showMsg('상태 오류: '+String(e),false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"server-settings-page\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Server Settings\"}),!serverUrl&&/*#__PURE__*/_jsx(\"div\",{className:\"warning\",children:\"\\uC11C\\uBC84 URL\\uC774 \\uC124\\uC815\\uB418\\uC9C0 \\uC54A\\uC558\\uC2B5\\uB2C8\\uB2E4. REACT_APP_SERVER_URL \\uC2DC\\uD06C\\uB9BF\\uC744 \\uD655\\uC778\\uD558\\uC138\\uC694.\"}),message&&/*#__PURE__*/_jsx(\"div\",{className:\"ss-toast \".concat(message.ok?'ok':'err'),children:message.msg}),/*#__PURE__*/_jsxs(\"div\",{className:\"section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD604\\uC7AC \\uC124\\uC815 & \\uC0C1\\uD0DC\"}),loading&&/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"\\uBD88\\uB7EC\\uC624\\uB294 \\uC911...\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"btn-row\",style:{display:'flex',gap:8,flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:refreshState,children:\"\\uC0C8\\uB85C\\uACE0\\uCE68\"}),/*#__PURE__*/_jsx(\"button\",{onClick:runScanNow,children:\"\\uC218\\uB3D9 \\uC2A4\\uCE94 \\uC2E4\\uD589\"}),/*#__PURE__*/_jsx(\"button\",{onClick:testTelegram,children:\"Telegram \\uD14C\\uC2A4\\uD2B8\"})]}),cfg&&/*#__PURE__*/_jsxs(\"div\",{className:\"cfg-view\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"interval: \",/*#__PURE__*/_jsx(\"strong\",{children:cfg.interval})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"emaShort: \",/*#__PURE__*/_jsx(\"strong\",{children:cfg.emaShort})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"emaLong: \",/*#__PURE__*/_jsx(\"strong\",{children:cfg.emaLong})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"scanType: \",/*#__PURE__*/_jsx(\"strong\",{children:cfg.scanType})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"cooldown(min): \",/*#__PURE__*/_jsx(\"strong\",{children:(_cfg$crossCooldownMin=cfg.crossCooldownMinutes)!==null&&_cfg$crossCooldownMin!==void 0?_cfg$crossCooldownMin:30})]})]}),health&&/*#__PURE__*/_jsxs(\"div\",{className:\"health\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"telegramConfigured: \",/*#__PURE__*/_jsx(\"strong\",{children:String(health.telegramConfigured)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"server time: \",health.time?new Date(health.time).toLocaleString():'—']})]}),state&&/*#__PURE__*/_jsxs(\"div\",{className:\"scan-meta\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"lastRun: \",state.lastRun?new Date(state.lastRun).toLocaleString():'—']}),/*#__PURE__*/_jsxs(\"div\",{children:[\"lastError: \",state.lastError||'없음']}),/*#__PURE__*/_jsxs(\"div\",{children:[\"matches stored: \",Array.isArray(state.matches)?state.matches.length:0]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"lastScanDuration: \",typeof state.lastScanDuration==='number'?\"\".concat(state.lastScanDuration,\" ms\"):'—']}),/*#__PURE__*/_jsxs(\"div\",{children:[\"scannedCount: \",typeof state.scannedCount==='number'?state.scannedCount:'—']}),/*#__PURE__*/_jsxs(\"div\",{children:[\"newMatches(last run): \",typeof state.newMatches==='number'?state.newMatches:'—']})]}),state&&Array.isArray(state.matches)&&state.matches.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"matches\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uCD5C\\uADFC \\uB9E4\\uCE58 (\\uCD5C\\uB300 20)\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"matches-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Symbol\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Time\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Interval\"}),/*#__PURE__*/_jsx(\"th\",{children:\"EMA\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:state.matches.slice(0,20).map((m,i)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:m.symbol}),/*#__PURE__*/_jsx(\"td\",{children:m.type}),/*#__PURE__*/_jsx(\"td\",{children:m.time?new Date(m.time).toLocaleString():'—'}),/*#__PURE__*/_jsx(\"td\",{children:m.interval}),/*#__PURE__*/_jsx(\"td\",{children:\"S\".concat(m.emaShort,\"/L\").concat(m.emaLong)})]},m.symbol+m.time+i))})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uC124\\uC815 (\\uC77D\\uAE30 \\uC804\\uC6A9 & Cooldown)\"}),/*#__PURE__*/_jsx(\"p\",{className:\"note\",children:\"EMA / Interval \\uAC12\\uC740 Alerts \\uD398\\uC774\\uC9C0\\uC5D0\\uC11C \\uBCC0\\uACBD\\uB418\\uBA70 \\uC790\\uB3D9\\uC73C\\uB85C \\uC11C\\uBC84\\uC5D0 \\uC801\\uC6A9\\uB429\\uB2C8\\uB2E4. \\uC5EC\\uAE30\\uC11C\\uB294 \\uC911\\uBCF5 \\uC54C\\uB9BC Cooldown \\uB9CC \\uC870\\uC815 \\uAC00\\uB2A5\\uD569\\uB2C8\\uB2E4.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Interval\"}),/*#__PURE__*/_jsx(\"input\",{value:cfg?cfg.interval:form.interval,readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"EMA Short\"}),/*#__PURE__*/_jsx(\"input\",{value:cfg?cfg.emaShort:form.emaShort,readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"EMA Long\"}),/*#__PURE__*/_jsx(\"input\",{value:cfg?cfg.emaLong:form.emaLong,readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Scan Type\"}),/*#__PURE__*/_jsx(\"input\",{value:cfg?cfg.scanType:form.scanType,readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Cooldown (minutes)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:1,value:(_form$crossCooldownMi=form.crossCooldownMinutes)!==null&&_form$crossCooldownMi!==void 0?_form$crossCooldownMi:30,onChange:e=>setForm(f=>_objectSpread(_objectSpread({},f),{},{crossCooldownMinutes:Number(e.target.value)}))})]}),/*#__PURE__*/_jsx(\"button\",{className:\"primary\",onClick:saveConfig,children:\"\\uC800\\uC7A5 (Cooldown\\uB9CC)\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uC2EC\\uBCFC \\uBAA9\\uB85D\"}),/*#__PURE__*/_jsx(\"div\",{className:\"symbols-box\",children:symbols.length?symbols.map(s=>/*#__PURE__*/_jsxs(\"span\",{className:\"sym-chip\",children:[s,\" \",/*#__PURE__*/_jsx(\"button\",{className:\"chip-x\",onClick:()=>removeSymbol(s),children:\"\\xD7\"})]},s)):/*#__PURE__*/_jsx(\"em\",{children:\"\\uC5C6\\uC74C\"})}),/*#__PURE__*/_jsx(\"textarea\",{rows:3,placeholder:\"BTCUSDT ETHUSDT ...\",value:symbolsInput,onChange:e=>setSymbolsInput(e.target.value)}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:8},children:[/*#__PURE__*/_jsx(\"button\",{onClick:saveSymbols,children:\"\\uC2EC\\uBCFC \\uC800\\uC7A5 (\\uC785\\uB825\\uAC12)\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>saveSymbolsArray(symbols),children:\"\\uD604\\uC7AC \\uC2EC\\uBCFC \\uC800\\uC7A5\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uB3C4\\uC6C0\\uB9D0\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"help-list\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\uC11C\\uBC84 Cron\\uC73C\\uB85C \\uBC31\\uADF8\\uB77C\\uC6B4\\uB4DC \\uC2A4\\uCE94\\uC774 \\uACC4\\uC18D \\uB3D9\\uC791\\uD569\\uB2C8\\uB2E4.\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\uC2EC\\uBCFC\\uC740 USDT\\uB85C \\uB05D\\uB098\\uB294 \\uC120\\uBB3C \\uB9C8\\uCF13 \\uC2EC\\uBCFC\\uB9CC \\uC720\\uD6A8\\uD569\\uB2C8\\uB2E4.\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Cooldown \\uB0B4 \\uB3D9\\uC77C \\uAD50\\uCC28\\uB294 \\uD154\\uB808\\uADF8\\uB7A8 \\uC911\\uBCF5 \\uC804\\uC1A1 \\uBC29\\uC9C0.\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\uD154\\uB808\\uADF8\\uB7A8 \\uBBF8\\uC124\\uC815 \\uC2DC \\uB9E4\\uCE58\\uB9CC \\uC800\\uC7A5\\uB418\\uACE0 \\uC804\\uC1A1\\uC740 \\uC0DD\\uB7B5\\uB429\\uB2C8\\uB2E4.\"})]})]})]});}","map":{"version":3,"names":["React","useEffect","useState","useCallback","jsx","_jsx","jsxs","_jsxs","ServerSettingsPage","_cfg$crossCooldownMin","_form$crossCooldownMi","raw","process","env","REACT_APP_SERVER_URL","serverUrl","trim","length","window","location","origin","loading","setLoading","cfg","setCfg","symbols","setSymbols","state","setState","form","setForm","interval","emaShort","emaLong","scanType","crossCooldownMinutes","symbolsInput","setSymbolsInput","message","setMessage","health","setHealth","showMsg","msg","ok","arguments","undefined","ts","Date","now","setTimeout","fetchAll","cRes","sRes","stRes","hRes","Promise","all","fetch","concat","cJson","json","catch","sJson","stJson","hJson","config","Array","isArray","telegramConfigured","e","String","saveConfig","body","_objectSpread","test","res","method","headers","JSON","stringify","j","saveSymbols","arr","split","map","s","filter","Boolean","saveSymbolsArray","removeSymbol","sym","next","runScanNow","_j$count","count","refreshState","testTelegram","symbol","className","children","style","display","gap","flexWrap","onClick","time","toLocaleString","lastRun","lastError","matches","lastScanDuration","scannedCount","newMatches","slice","m","i","type","value","readOnly","min","onChange","f","Number","target","rows","placeholder"],"sources":["C:/Users/e1it3/Desktop/program/binance_alert/src/pages/ServerSettingsPage.js"],"sourcesContent":["import React, { useEffect, useState, useCallback } from 'react';\r\n\r\n// 서버 설정 / 상태 / 심볼 관리 페이지\r\n// 포함 기능 (요청 순서 1~4 구현):\r\n// 1. 스캔 메타데이터(lastScanDuration, scannedCount, newMatches) 저장 및 표시\r\n// 2. /scan-now 수동 스캔 트리거 버튼\r\n// 3. 최근 매치 테이블 (최대 20개)\r\n// 4. Telegram 테스트 버튼 (/send-alert 사용)\r\n\r\nexport default function ServerSettingsPage() {\r\n  const raw = (process.env.REACT_APP_SERVER_URL && typeof process.env.REACT_APP_SERVER_URL === 'string') ? process.env.REACT_APP_SERVER_URL : '';\r\n  const serverUrl = raw.trim().length > 0 ? raw.trim() : (typeof window !== 'undefined' ? window.location.origin : '');\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [cfg, setCfg] = useState(null);\r\n  const [symbols, setSymbols] = useState([]);\r\n  const [state, setState] = useState(null);\r\n  const [form, setForm] = useState({ interval: '5m', emaShort: 26, emaLong: 200, scanType: 'both', crossCooldownMinutes: 30 });\r\n  const [symbolsInput, setSymbolsInput] = useState('');\r\n  const [message, setMessage] = useState(null);\r\n  const [health, setHealth] = useState(null);\r\n\r\n  const showMsg = useCallback((msg, ok = true) => {\r\n    setMessage({ msg, ok, ts: Date.now() });\r\n    setTimeout(() => { setMessage(null); }, 4500);\r\n  }, []);\r\n\r\n  const fetchAll = useCallback(async () => {\r\n    if (!serverUrl) return;\r\n    setLoading(true);\r\n    try {\r\n      const [cRes, sRes, stRes, hRes] = await Promise.all([\r\n        fetch(`${serverUrl}/config`),\r\n        fetch(`${serverUrl}/symbols`),\r\n        fetch(`${serverUrl}/scan-state`),\r\n        fetch(`${serverUrl}/health`)\r\n      ]);\r\n      const cJson = await cRes.json().catch(() => null);\r\n      const sJson = await sRes.json().catch(() => null);\r\n      const stJson = await stRes.json().catch(() => null);\r\n      const hJson = await hRes.json().catch(() => null);\r\n      if (cJson && cJson.ok && cJson.config) { setCfg(cJson.config); setForm(cJson.config); }\r\n      if (sJson && sJson.ok && Array.isArray(sJson.symbols)) setSymbols(sJson.symbols);\r\n      if (stJson && stJson.ok && stJson.state) setState(stJson.state);\r\n      if (hJson && (hJson.ok || typeof hJson.telegramConfigured !== 'undefined')) setHealth(hJson);\r\n    } catch (e) { showMsg('설정 조회 실패: ' + String(e), false); }\r\n    finally { setLoading(false); }\r\n  }, [serverUrl, showMsg]);\r\n\r\n  useEffect(() => { fetchAll(); }, [fetchAll]);\r\n\r\n  const saveConfig = async () => {\r\n    if (!serverUrl) return;\r\n    try {\r\n      const body = { ...form };\r\n      if (typeof body.interval === 'number' || /^\\d+$/.test(String(body.interval))) body.interval = `${body.interval}m`;\r\n      const res = await fetch(`${serverUrl}/config`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(body) });\r\n      const j = await res.json().catch(() => null);\r\n      if (res.ok && j && j.ok) { setCfg(j.config); showMsg('설정 저장 완료'); }\r\n      else showMsg('설정 저장 실패', false);\r\n    } catch (e) { showMsg('설정 오류: ' + String(e), false); }\r\n  };\r\n\r\n  const saveSymbols = async () => {\r\n    if (!serverUrl) return;\r\n    try {\r\n      let arr = symbolsInput.split(/[\\s,]+/).map(s => s.trim()).filter(Boolean);\r\n      if (!arr.length) { showMsg('심볼 입력이 비어있습니다', false); return; }\r\n      const res = await fetch(`${serverUrl}/symbols`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(arr) });\r\n      const j = await res.json().catch(() => null);\r\n      if (res.ok && j && j.ok) { setSymbols(j.symbols); showMsg('심볼 저장 완료'); }\r\n      else showMsg('심볼 저장 실패', false);\r\n    } catch (e) { showMsg('심볼 오류: ' + String(e), false); }\r\n  };\r\n\r\n  const saveSymbolsArray = async (arr) => {\r\n    if (!serverUrl) return;\r\n    try {\r\n      const res = await fetch(`${serverUrl}/symbols`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(arr) });\r\n      const j = await res.json().catch(() => null);\r\n      if (res.ok && j && j.ok) { setSymbols(j.symbols); showMsg('심볼 저장 완료'); }\r\n      else showMsg('심볼 저장 실패', false);\r\n    } catch (e) { showMsg('심볼 오류: ' + String(e), false); }\r\n  };\r\n\r\n  const removeSymbol = async (sym) => {\r\n    try { const next = symbols.filter(s => s !== sym); setSymbols(next); await saveSymbolsArray(next); }\r\n    catch (e) { showMsg('삭제 실패: ' + String(e), false); }\r\n  };\r\n\r\n  const runScanNow = async () => {\r\n    if (!serverUrl) return;\r\n    try {\r\n      const res = await fetch(`${serverUrl}/scan-now`, { method: 'POST' });\r\n      const j = await res.json().catch(() => null);\r\n      if (res.ok && j) { showMsg(`수동 스캔 완료 (count=${j.count ?? 0})`); await refreshState(); }\r\n      else showMsg('수동 스캔 실패', false);\r\n    } catch (e) { showMsg('수동 스캔 오류: ' + String(e), false); }\r\n  };\r\n\r\n  const testTelegram = async () => {\r\n    if (!serverUrl) return;\r\n    try {\r\n      const res = await fetch(`${serverUrl}/send-alert`, {\r\n        method: 'POST', headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ symbol: 'TEST', message: '텔레그램 테스트', emaShort: form.emaShort, emaLong: form.emaLong })\r\n      });\r\n      const j = await res.json().catch(() => null);\r\n      if (res.ok && j && j.ok) showMsg('텔레그램 전송 성공'); else showMsg('텔레그램 전송 실패', false);\r\n    } catch (e) { showMsg('텔레그램 오류: ' + String(e), false); }\r\n  };\r\n\r\n  const refreshState = async () => {\r\n    if (!serverUrl) return;\r\n    try {\r\n      const res = await fetch(`${serverUrl}/scan-state`);\r\n      const j = await res.json().catch(() => null);\r\n      if (res.ok && j && j.ok) { setState(j.state); showMsg('상태 새로고침 완료'); }\r\n      else showMsg('상태 조회 실패', false);\r\n    } catch (e) { showMsg('상태 오류: ' + String(e), false); }\r\n  };\r\n\r\n  return (\r\n    <div className=\"server-settings-page\">\r\n      <h2>Server Settings</h2>\r\n      {!serverUrl && <div className=\"warning\">서버 URL이 설정되지 않았습니다. REACT_APP_SERVER_URL 시크릿을 확인하세요.</div>}\r\n      {message && <div className={`ss-toast ${message.ok ? 'ok' : 'err'}`}>{message.msg}</div>}\r\n\r\n      <div className=\"section\">\r\n        <h3>현재 설정 & 상태</h3>\r\n        {loading && <div className=\"loading\">불러오는 중...</div>}\r\n        <div className=\"btn-row\" style={{display:'flex', gap:8, flexWrap:'wrap'}}>\r\n          <button onClick={refreshState}>새로고침</button>\r\n          <button onClick={runScanNow}>수동 스캔 실행</button>\r\n          <button onClick={testTelegram}>Telegram 테스트</button>\r\n        </div>\r\n        {cfg && (\r\n          <div className=\"cfg-view\">\r\n            <div>interval: <strong>{cfg.interval}</strong></div>\r\n            <div>emaShort: <strong>{cfg.emaShort}</strong></div>\r\n            <div>emaLong: <strong>{cfg.emaLong}</strong></div>\r\n            <div>scanType: <strong>{cfg.scanType}</strong></div>\r\n            <div>cooldown(min): <strong>{cfg.crossCooldownMinutes ?? 30}</strong></div>\r\n          </div>\r\n        )}\r\n        {health && (\r\n          <div className=\"health\">\r\n            <div>telegramConfigured: <strong>{String(health.telegramConfigured)}</strong></div>\r\n            <div>server time: {health.time ? new Date(health.time).toLocaleString() : '—'}</div>\r\n          </div>\r\n        )}\r\n        {state && (\r\n          <div className=\"scan-meta\">\r\n            <div>lastRun: {state.lastRun ? new Date(state.lastRun).toLocaleString() : '—'}</div>\r\n            <div>lastError: {state.lastError || '없음'}</div>\r\n            <div>matches stored: {Array.isArray(state.matches) ? state.matches.length : 0}</div>\r\n            <div>lastScanDuration: {typeof state.lastScanDuration === 'number' ? `${state.lastScanDuration} ms` : '—'}</div>\r\n            <div>scannedCount: {typeof state.scannedCount === 'number' ? state.scannedCount : '—'}</div>\r\n            <div>newMatches(last run): {typeof state.newMatches === 'number' ? state.newMatches : '—'}</div>\r\n          </div>\r\n        )}\r\n        {state && Array.isArray(state.matches) && state.matches.length > 0 && (\r\n          <div className=\"matches\">\r\n            <h4>최근 매치 (최대 20)</h4>\r\n            <table className=\"matches-table\">\r\n              <thead>\r\n              <tr><th>Symbol</th><th>Type</th><th>Time</th><th>Interval</th><th>EMA</th></tr>\r\n              </thead>\r\n              <tbody>\r\n              {state.matches.slice(0, 20).map((m,i) => (\r\n                <tr key={m.symbol + m.time + i}>\r\n                  <td>{m.symbol}</td>\r\n                  <td>{m.type}</td>\r\n                  <td>{m.time ? new Date(m.time).toLocaleString() : '—'}</td>\r\n                  <td>{m.interval}</td>\r\n                  <td>{`S${m.emaShort}/L${m.emaLong}`}</td>\r\n                </tr>\r\n              ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"section\">\r\n        <h3>설정 (읽기 전용 & Cooldown)</h3>\r\n        <p className=\"note\">EMA / Interval 값은 Alerts 페이지에서 변경되며 자동으로 서버에 적용됩니다. 여기서는 중복 알림 Cooldown 만 조정 가능합니다.</p>\r\n        <div className=\"form-row\">\r\n          <label>Interval</label>\r\n          <input value={cfg ? cfg.interval : form.interval} readOnly />\r\n        </div>\r\n        <div className=\"form-row\">\r\n          <label>EMA Short</label>\r\n          <input value={cfg ? cfg.emaShort : form.emaShort} readOnly />\r\n        </div>\r\n        <div className=\"form-row\">\r\n          <label>EMA Long</label>\r\n          <input value={cfg ? cfg.emaLong : form.emaLong} readOnly />\r\n        </div>\r\n        <div className=\"form-row\">\r\n          <label>Scan Type</label>\r\n          <input value={cfg ? cfg.scanType : form.scanType} readOnly />\r\n        </div>\r\n        <div className=\"form-row\">\r\n          <label>Cooldown (minutes)</label>\r\n          <input type=\"number\" min={1} value={form.crossCooldownMinutes ?? 30} onChange={e => setForm(f => ({ ...f, crossCooldownMinutes: Number(e.target.value) }))} />\r\n        </div>\r\n        <button className=\"primary\" onClick={saveConfig}>저장 (Cooldown만)</button>\r\n      </div>\r\n\r\n      <div className=\"section\">\r\n        <h3>심볼 목록</h3>\r\n        <div className=\"symbols-box\">\r\n          {symbols.length ? symbols.map(s => (\r\n            <span key={s} className=\"sym-chip\">{s} <button className=\"chip-x\" onClick={() => removeSymbol(s)}>×</button></span>\r\n          )) : <em>없음</em>}\r\n        </div>\r\n        <textarea rows={3} placeholder=\"BTCUSDT ETHUSDT ...\" value={symbolsInput} onChange={e => setSymbolsInput(e.target.value)} />\r\n        <div style={{display:'flex', gap:8}}>\r\n          <button onClick={saveSymbols}>심볼 저장 (입력값)</button>\r\n          <button onClick={() => saveSymbolsArray(symbols)}>현재 심볼 저장</button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"section\">\r\n        <h3>도움말</h3>\r\n        <ul className=\"help-list\">\r\n          <li>서버 Cron으로 백그라운드 스캔이 계속 동작합니다.</li>\r\n          <li>심볼은 USDT로 끝나는 선물 마켓 심볼만 유효합니다.</li>\r\n          <li>Cooldown 내 동일 교차는 텔레그램 중복 전송 방지.</li>\r\n          <li>텔레그램 미설정 시 매치만 저장되고 전송은 생략됩니다.</li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}