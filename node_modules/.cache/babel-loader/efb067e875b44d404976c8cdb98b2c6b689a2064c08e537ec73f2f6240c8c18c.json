{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\e1it3\\\\Desktop\\\\program\\\\binance_alert\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport './App.css';\nimport React, { useEffect, useRef, useState } from 'react';\nimport useEmaCross from './hooks/useEmaCross';\nimport Alerts from './components/Alerts';\nimport Metrics from './components/Metrics';\nimport Controls from './components/Controls';\nimport DebugPanel from './components/DebugPanel';\nimport Notes from './components/Notes';\nimport Header from './components/Header';\nimport TopMenu from './components/TopMenu';\nimport ScannerPage from './pages/ScannerPage';\nimport scannerManager from './lib/scannerManager';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction beep() {\n  try {\n    const AudioCtx = window.AudioContext || window.webkitAudioContext;\n    const ctx = new AudioCtx();\n    const o = ctx.createOscillator();\n    const g = ctx.createGain();\n    o.type = 'sine';\n    o.frequency.value = 880;\n    o.connect(g);\n    g.connect(ctx.destination);\n    o.start();\n    g.gain.setValueAtTime(0.0001, ctx.currentTime);\n    g.gain.exponentialRampToValueAtTime(0.1, ctx.currentTime + 0.01);\n    g.gain.exponentialRampToValueAtTime(0.0001, ctx.currentTime + 0.6);\n    setTimeout(() => {\n      o.stop();\n      try {\n        ctx.close();\n      } catch (e) {}\n    }, 700);\n  } catch (e) {\n    // ignore\n  }\n}\nfunction App() {\n  _s();\n  const [darkMode, setDarkMode] = useState(() => {\n    try {\n      const raw = localStorage.getItem('darkMode');\n      return raw === '1';\n    } catch (e) {\n      return false;\n    }\n  });\n  const toggleDark = React.useCallback(() => {\n    try {\n      setDarkMode(d => {\n        const next = !d;\n        try {\n          localStorage.setItem('darkMode', next ? '1' : '0');\n        } catch (e) {}\n        return next;\n      });\n    } catch (e) {}\n  }, []);\n  const [symbol, setSymbol] = useState(() => {\n    try {\n      const raw = localStorage.getItem('lastSymbol');\n      if (raw && typeof raw === 'string') return raw.toString().replace(/[^A-Za-z0-9]/g, '').toUpperCase();\n    } catch (e) {}\n    return 'BTCUSDT';\n  });\n  const [autoStart, setAutoStart] = useState(true);\n  const [symbolValid, setSymbolValid] = useState(null); // null=unknown, true/false\n  // symbolValidateTimer moved into Controls component\n  const [availableSymbols, setAvailableSymbols] = useState(null);\n  const [showDebug] = useState(false);\n  const [suggestions, setSuggestions] = useState([]);\n  // monitoring inputs (minutes + EMA short/long)\n  const [monitorMinutes, setMonitorMinutes] = useState(() => {\n    try {\n      const raw = localStorage.getItem('lastMonitor');\n      if (raw) {\n        const parsed = JSON.parse(raw);\n        if (parsed && typeof parsed.monitorMinutes !== 'undefined') return Number(parsed.monitorMinutes) || 5;\n      }\n    } catch (e) {}\n    return 5;\n  });\n  const [monitorEma1, setMonitorEma1] = useState(() => {\n    try {\n      const raw = localStorage.getItem('lastMonitor');\n      if (raw) {\n        const parsed = JSON.parse(raw);\n        if (parsed && typeof parsed.monitorEma1 !== 'undefined') return Number(parsed.monitorEma1) || 26;\n      }\n    } catch (e) {}\n    return 26;\n  });\n  const [monitorEma2, setMonitorEma2] = useState(() => {\n    try {\n      const raw = localStorage.getItem('lastMonitor');\n      if (raw) {\n        const parsed = JSON.parse(raw);\n        if (parsed && typeof parsed.monitorEma2 !== 'undefined') return Number(parsed.monitorEma2) || 200;\n      }\n    } catch (e) {}\n    return 200;\n  });\n  const [marketCheckResult, setMarketCheckResult] = useState(null);\n  // helper to fetch exchangeInfo and populate availableSymbols\n  async function fetchExchangeInfo() {\n    try {\n      // default to Binance Futures (USDT-M) exchangeInfo for symbols\n      const res = await fetch('https://fapi.binance.com/fapi/v1/exchangeInfo');\n      if (!res.ok) {\n        console.warn('exchangeInfo fetch failed', res.status);\n        setAvailableSymbols([]);\n        return;\n      }\n      const data = await res.json();\n      const syms = (data.symbols || []).map(s => s.symbol);\n      setAvailableSymbols(syms);\n    } catch (e) {\n      console.warn('exchangeInfo fetch error', e);\n      setAvailableSymbols([]);\n    }\n  }\n\n  // fetch full symbol list once on mount for reliable validation\n  // fetch full symbol list once on mount for reliable validation\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useEffect(() => {\n    fetchExchangeInfo();\n  }, []);\n\n  // helper to validate a symbol (returns true/false)\n  async function validateSymbolOnce(s) {\n    const q = (s || '').replace(/[^A-Za-z0-9]/g, '').toUpperCase();\n    if (!q) return false;\n    // If we have a cached symbol list, compare using a normalized form (strip non-alnum, uppercase)\n    if (availableSymbols && availableSymbols.length > 0) {\n      const normQ = q;\n      for (const sym of availableSymbols) {\n        const normSym = (sym || '').replace(/[^A-Za-z0-9]/g, '').toUpperCase();\n        if (normSym === normQ) return true;\n      }\n      return false;\n    }\n    // Fallback to exchangeInfo query for the single symbol\n    try {\n      // fallback to Binance Futures exchangeInfo lookup\n      const res = await fetch(`https://fapi.binance.com/fapi/v1/exchangeInfo?symbol=${q}`);\n      if (!res.ok) return false;\n      const data = await res.json();\n      // if API returned an object with matching symbol(s), accept it\n      if (data && Array.isArray(data.symbols) && data.symbols.length > 0) return true;\n      if (data && data.symbol) return true;\n      return false;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  // if symbol becomes invalid, disable autoStart and disconnect to avoid wrong subscriptions\n  // (moved below after hook initialization because it depends on connected/disconnect)\n  // Disable hook autoConnect: App will control connecting so we can update server monitor symbol first\n  const {\n    ema9,\n    ema26,\n    lastPrice,\n    lastTick,\n    lastCandleClosed,\n    cross,\n    confirmedCross,\n    confirmedSource,\n    connected,\n    status,\n    connect,\n    disconnect,\n    activeSymbol\n  } = useEmaCross({\n    symbol,\n    autoConnect: true,\n    debug: showDebug,\n    interval: `${monitorMinutes}m`,\n    emaShort: monitorEma1,\n    emaLong: monitorEma2\n  });\n  const [events, setEvents] = useState([]);\n  const [toast, setToast] = useState(null);\n  // Helper: detect duplicate events and add only if not duplicate\n  // Dedup logic: consider events duplicate if symbol + type match and their timestamps are within 5s,\n  // or if price matches exactly and symbol+type match. This helps avoid server+client duplicate alerts.\n  const isDuplicateEvent = React.useCallback((newEv, existing) => {\n    try {\n      if (!existing || !newEv) return false;\n      const aSym = (existing.symbol || '').toString().replace(/[^A-Za-z0-9]/g, '').toUpperCase();\n      const bSym = (newEv.symbol || '').toString().replace(/[^A-Za-z0-9]/g, '').toUpperCase();\n      if (!aSym || !bSym || aSym !== bSym) return false;\n      if ((existing.type || '') !== (newEv.type || '')) return false;\n      // exact price match\n      if (typeof existing.price !== 'undefined' && typeof newEv.price !== 'undefined' && String(existing.price) === String(newEv.price)) return true;\n      // timestamp proximity (use ts if available, otherwise parse time)\n      const aTs = typeof existing.ts === 'number' ? existing.ts : Date.parse(existing.time || '') || 0;\n      const bTs = typeof newEv.ts === 'number' ? newEv.ts : Date.parse(newEv.time || '') || 0;\n      if (aTs && bTs && Math.abs(aTs - bTs) <= 5000) return true;\n    } catch (e) {}\n    return false;\n  }, []);\n  const addEvent = React.useCallback(ev => {\n    setEvents(prev => {\n      try {\n        if (Array.isArray(prev) && prev.some(p => isDuplicateEvent(ev, p))) {\n          if (showDebug) console.debug('[App] suppressed duplicate event', ev);\n          return prev;\n        }\n      } catch (e) {}\n      return [ev, ...prev].slice(0, 500);\n    });\n  }, [isDuplicateEvent, showDebug]);\n  // Wire scannerManager to provide available symbols and forward matches into App events\n  useEffect(() => {\n    try {\n      scannerManager.setGetSymbols(() => availableSymbols || []);\n      const off = scannerManager.onUpdate(s => {\n        try {\n          // s.results contains matches; forward them as 'alert' events into the main events list\n          if (s && Array.isArray(s.results) && s.results.length > 0) {\n            for (const r of s.results) {\n              try {\n                const ev = {\n                  ts: Date.now(),\n                  time: r.time || new Date().toLocaleString(),\n                  type: 'alert',\n                  price: r.last26 || null,\n                  symbol: (r.symbol || '').toString().replace(/[^A-Za-z0-9]/g, '').toUpperCase(),\n                  source: 'scanner'\n                };\n                addEvent(ev);\n              } catch (e) {}\n            }\n          }\n        } catch (e) {}\n      });\n      return () => {\n        try {\n          off();\n        } catch (e) {}\n      };\n    } catch (e) {}\n  }, [availableSymbols, addEvent]);\n  const showToast = React.useCallback((message, ok = true) => {\n    try {\n      setToast({\n        message,\n        ok,\n        ts: Date.now()\n      });\n      // auto-dismiss after 5s\n      setTimeout(() => {\n        try {\n          setToast(null);\n        } catch (e) {}\n      }, 5000);\n    } catch (e) {}\n  }, []);\n  const lastNotified = useRef(null);\n  const [sseConnected, setSseConnected] = useState(false);\n  const [serverSymbol, setServerSymbol] = useState(null);\n  const [lastHealthyAt, setLastHealthyAt] = useState(null);\n  const [telegramConfigured, setTelegramConfigured] = useState(null); // null=unknown, true/false\n  const [view, setView] = useState('alerts');\n\n  // Debug helper: simulate a confirmed cross from the frontend (calls /send-alert and adds local event)\n  const simulateConfirmedCross = React.useCallback(forceType => {\n    try {\n      const type = forceType || confirmedCross || 'bull';\n      const sym = (activeSymbol || symbol || '').toString().replace(/[^A-Za-z0-9]/g, '').toUpperCase();\n      const price = lastPrice || 0;\n      const text = `${sym} ${type === 'bull' ? 'Bullish EMA9 > EMA26' : 'Bearish EMA9 < EMA26'} @ ${price}`;\n      // add local event\n      const ev = {\n        ts: Date.now(),\n        time: new Date().toLocaleString(),\n        type: type === 'bull' ? 'bull' : 'bear',\n        price,\n        symbol: sym,\n        source: 'client-sim'\n      };\n      addEvent(ev);\n      // fire server send\n      (async () => {\n        const serverUrl = process.env.REACT_APP_SERVER_URL || 'http://localhost:3001';\n        try {\n          if (showDebug) console.debug('[App] simulate sending /send-alert', {\n            url: `${serverUrl}/send-alert`,\n            payload: {\n              symbol: sym,\n              price,\n              message: text\n            }\n          });\n          const res = await fetch(`${serverUrl}/send-alert`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              symbol: sym,\n              price,\n              message: text\n            })\n          });\n          let json = null;\n          try {\n            json = await res.json();\n          } catch (e) {\n            json = null;\n          }\n          const sendEv = {\n            ts: Date.now(),\n            time: new Date().toLocaleString(),\n            type: 'telegram_send',\n            symbol: sym,\n            source: 'client-send',\n            ok: res.ok,\n            status: res.status,\n            body: json\n          };\n          addEvent(sendEv);\n          // show immediate toast to user\n          try {\n            showToast(res.ok ? `Telegram send OK (${sym})` : `Telegram send failed (${res.status})`, res.ok);\n          } catch (e) {}\n          if (showDebug) console.debug('[App] simulate /send-alert response', sendEv);\n        } catch (e) {\n          const errEv = {\n            ts: Date.now(),\n            time: new Date().toLocaleString(),\n            type: 'telegram_send',\n            symbol: sym,\n            source: 'client-send',\n            ok: false,\n            error: String(e)\n          };\n          addEvent(errEv);\n          try {\n            showToast(`Telegram send error: ${String(e)}`, false);\n          } catch (err) {}\n          if (showDebug) console.debug('[App] simulate send-alert failed', e);\n        }\n      })();\n    } catch (e) {\n      if (showDebug) console.debug('[App] simulateConfirmedCross error', e);\n    }\n  }, [activeSymbol, symbol, lastPrice, addEvent, showDebug, confirmedCross, showToast]);\n\n  // Subscribe to server-sent events from server (realtime alerts emitted by server)\n  useEffect(() => {\n    const serverUrl = process.env.REACT_APP_SERVER_URL || 'http://localhost:3001';\n    if (!window.EventSource) return;\n    let es;\n    try {\n      es = new EventSource(`${serverUrl}/events`);\n      es.onopen = () => {\n        setSseConnected(true);\n        // fetch health once when SSE opens to sync server-side monitored symbol\n        try {\n          fetch(`${serverUrl}/health`).then(r => r.json()).then(j => {\n            if (j && j.symbol) setServerSymbol((j.symbol || '').toString().toUpperCase());\n          }).catch(() => {});\n        } catch (e) {}\n      };\n      es.onmessage = e => {\n        try {\n          const obj = JSON.parse(e.data);\n          if (!obj) return;\n          // handle server alert events and telegram_sent confirmations\n          if (obj.type === 'alert') {\n            // prefer the activeSymbol from the hook, fallback to the selected symbol\n            const current = (activeSymbol || symbol || '').toString().replace(/[^A-Za-z0-9]/g, '').toUpperCase();\n            const incoming = (obj.symbol || '').toString().replace(/[^A-Za-z0-9]/g, '').toUpperCase();\n            // require incoming symbol to be present and match the currently-active symbol\n            if (!incoming || !current || incoming !== current) {\n              if (showDebug) console.debug('[App] dropping SSE alert for different symbol', {\n                incoming,\n                current,\n                obj\n              });\n              return;\n            }\n            const evObj = {\n              ts: obj.ts || Date.now(),\n              time: obj.when ? new Date(obj.when).toLocaleString() : new Date().toLocaleString(),\n              type: obj.alert === 'bull' ? 'bull' : 'bear',\n              price: obj.price,\n              symbol: incoming,\n              source: 'server'\n            };\n            // use centralized dedupe/add helper\n            try {\n              addEvent(evObj);\n            } catch (e) {\n              setEvents(prev => [evObj, ...prev].slice(0, 500));\n            }\n          } else if (obj.type === 'telegram_sent') {\n            // server confirmed it sent a telegram; add a small event so UI reflects it\n            try {\n              const sym = (obj.symbol || '').toString().replace(/[^A-Za-z0-9]/g, '').toUpperCase() || (activeSymbol || symbol || '').toString().toUpperCase();\n              const ev = {\n                ts: obj.ts || Date.now(),\n                time: new Date(obj.ts || Date.now()).toLocaleString(),\n                type: 'telegram',\n                price: obj.price || lastPrice,\n                symbol: sym,\n                source: 'server-telegram',\n                ok: obj.ok\n              };\n              addEvent(ev);\n            } catch (e) {}\n          }\n        } catch (err) {}\n      };\n      es.onerror = () => {\n        setSseConnected(false);\n        try {\n          es.close();\n        } catch (e) {}\n      };\n    } catch (e) {}\n    return () => {\n      try {\n        es && es.close();\n      } catch (e) {}\n    };\n  }, [symbol, activeSymbol, showDebug, addEvent, lastPrice]);\n\n  // helper to ask server to monitor a symbol, then connect the client\n  const setServerAndConnect = React.useCallback(async (sym, opts) => {\n    const serverUrl = process.env.REACT_APP_SERVER_URL || 'http://localhost:3001';\n    const q = (sym || '').toString().replace(/[^A-Za-z0-9]/g, '').toUpperCase();\n    let interval = opts && typeof opts.interval !== 'undefined' ? opts.interval : monitorMinutes;\n    // normalize interval to a string accepted by Binance (e.g., '5m'). If a plain number is provided, treat as minutes.\n    if (typeof interval === 'number' || typeof interval === 'string' && /^\\d+$/.test(String(interval))) {\n      interval = `${interval}m`;\n    }\n    const emaShort = opts && typeof opts.emaShort !== 'undefined' ? opts.emaShort : monitorEma1;\n    const emaLong = opts && typeof opts.emaLong !== 'undefined' ? opts.emaLong : monitorEma2;\n    if (!q) {\n      try {\n        connect(sym);\n      } catch (e) {}\n      return;\n    }\n    try {\n      // call server endpoint to change monitored symbol and monitoring params\n      const params = new URLSearchParams({\n        symbol: q,\n        interval: String(interval),\n        emaShort: String(emaShort),\n        emaLong: String(emaLong)\n      });\n      await fetch(`${serverUrl}/set-symbol?${params.toString()}`, {\n        method: 'GET'\n      });\n      setServerSymbol(q);\n    } catch (e) {\n      // ignore server errors and proceed to connect locally\n    }\n    try {\n      connect(q);\n    } catch (e) {}\n    // persist the last-used monitor inputs so Alerts/Controls can restore them\n    try {\n      const toStore = {\n        monitorMinutes: typeof interval === 'string' && interval.endsWith('m') ? Number(interval.replace(/m$/, '')) : Number(interval),\n        monitorEma1: Number(emaShort),\n        monitorEma2: Number(emaLong),\n        lastSymbol: q\n      };\n      localStorage.setItem('lastMonitor', JSON.stringify(toStore));\n    } catch (e) {}\n  }, [connect, monitorMinutes, monitorEma1, monitorEma2]);\n\n  // 자동 연결: symbol이 유효하고 autoStart가 켜져 있으면 Start 버튼을 누르지 않아도 connect 호출\n  useEffect(() => {\n    try {\n      const q = (symbol || '').replace(/[^A-Za-z0-9]/g, '').toUpperCase();\n      // only attempt auto-start after the hook has initialized its EMA seed\n      if (q && symbolValid === true && autoStart && status === 'initialized') {\n        if (!activeSymbol || activeSymbol.toString().toUpperCase() !== q) {\n          // ensure server monitor symbol is updated before connecting\n          try {\n            setServerAndConnect(q);\n          } catch (e) {\n            connect(q);\n          }\n        }\n      }\n    } catch (e) {\n      // ignore\n    }\n  }, [symbol, symbolValid, autoStart, activeSymbol, connect, setServerAndConnect, status]);\n\n  // fetch server health on mount in case SSE isn't available yet\n  useEffect(() => {\n    const serverUrl = process.env.REACT_APP_SERVER_URL || 'http://localhost:3001';\n    try {\n      fetch(`${serverUrl}/health`).then(r => r.json()).then(j => {\n        if (j && j.symbol) setServerSymbol((j.symbol || '').toString().toUpperCase());\n        if (j) {\n          setLastHealthyAt(Date.now());\n          if (typeof (j === null || j === void 0 ? void 0 : j.telegramConfigured) !== 'undefined') setTelegramConfigured(!!j.telegramConfigured);\n        }\n      }).catch(() => {});\n    } catch (e) {}\n  }, []);\n\n  // poll /health periodically so UI can show last healthy time; keeps serverSymbol and telegramConfigured in sync\n  useEffect(() => {\n    const serverUrl = process.env.REACT_APP_SERVER_URL || 'http://localhost:3001';\n    let mounted = true;\n    async function poll() {\n      try {\n        const r = await fetch(`${serverUrl}/health`);\n        if (!mounted) return;\n        const j = await r.json();\n        if (j && j.symbol) setServerSymbol((j.symbol || '').toString().toUpperCase());\n        if (j) {\n          setLastHealthyAt(Date.now());\n          if (typeof (j === null || j === void 0 ? void 0 : j.telegramConfigured) !== 'undefined') setTelegramConfigured(!!j.telegramConfigured);\n        }\n      } catch (e) {\n        // keep lastHealthyAt as-is on error\n      }\n    }\n    // initial poll\n    poll();\n    const id = setInterval(poll, 15000);\n    return () => {\n      mounted = false;\n      clearInterval(id);\n    };\n  }, []);\n\n  // clearAlerts will be handled inline if needed; no export/import UI\n\n  // --- localStorage에 Alerts 저장/복원 헬퍼 ---\n  const ALERTS_LS_KEY = 'alerts';\n  function saveAlertsToLocalStorage(arr) {\n    try {\n      if (!Array.isArray(arr)) return;\n      // 저장 크기 제한을 위해 최신 500개(로컬스토리지라 쿠키보다 여유)\n      const toStore = JSON.stringify(arr.slice(0, 500));\n      localStorage.setItem(ALERTS_LS_KEY, toStore);\n    } catch (e) {\n      // ignore\n    }\n  }\n  function loadAlertsFromLocalStorage() {\n    try {\n      const raw = localStorage.getItem(ALERTS_LS_KEY);\n      if (!raw) return null;\n      const parsed = JSON.parse(raw);\n      if (Array.isArray(parsed)) return parsed;\n      return null;\n    } catch (e) {\n      return null;\n    }\n  }\n\n  // 복원: 마운트 시 localStorage에서 alerts 복원 (7일 초과 항목은 제거)\n  useEffect(() => {\n    try {\n      const saved = loadAlertsFromLocalStorage();\n      if (saved && Array.isArray(saved) && saved.length > 0) {\n        const cutoff = Date.now() - 1000 * 60 * 60 * 24 * 7; // 7 days\n        const normTarget = (symbol || '').replace(/[^A-Za-z0-9]/g, '').toUpperCase();\n        const filtered = saved.filter(ev => {\n          if (!ev) return false;\n          if (typeof ev.ts === 'number' && ev.ts < cutoff) return false;\n          // try parse time string as fallback\n          if (typeof ev.ts !== 'number') {\n            const parsed = Date.parse(ev.time || '');\n            if (isNaN(parsed) || parsed < cutoff) return false;\n          }\n          // require event symbol to match the current selected symbol to avoid showing other-pair alerts\n          const evSym = (ev.symbol || '').toString().replace(/[^A-Za-z0-9]/g, '').toUpperCase();\n          return evSym === normTarget;\n        });\n        setEvents(filtered);\n      }\n    } catch (e) {}\n  }, [symbol]);\n\n  // Persist monitor inputs whenever they change so UI values are remembered\n  useEffect(() => {\n    try {\n      const toStore = {\n        monitorMinutes,\n        monitorEma1,\n        monitorEma2,\n        lastSymbol: symbol\n      };\n      localStorage.setItem('lastMonitor', JSON.stringify(toStore));\n    } catch (e) {}\n  }, [monitorMinutes, monitorEma1, monitorEma2, symbol]);\n\n  // 저장: events가 바뀔 때마다 localStorage에 반영 (저장 전에 7일 초과 항목 제거)\n  useEffect(() => {\n    try {\n      const cutoff = Date.now() - 1000 * 60 * 60 * 24 * 7; // 7 days\n      const filtered = (events || []).filter(ev => {\n        if (!ev) return false;\n        if (typeof ev.ts === 'number') return ev.ts >= cutoff;\n        const parsed = Date.parse(ev.time || '');\n        if (!isNaN(parsed)) return parsed >= cutoff;\n        return false;\n      });\n      saveAlertsToLocalStorage(filtered);\n    } catch (e) {}\n  }, [events]);\n\n  // Alerts 항목 삭제 핸들러 (ts 기반으로 고유 항목 제거)\n  function removeAlertByTs(ts) {\n    try {\n      const next = (events || []).filter(ev => ev && ev.ts !== ts);\n      setEvents(next);\n    } catch (e) {}\n  }\n\n  // if symbol becomes invalid, disable autoStart and disconnect to avoid wrong subscriptions\n  useEffect(() => {\n    if (symbolValid === false) {\n      if (autoStart) setAutoStart(false);\n      // ensure disconnected\n      if (connected) disconnect();\n    }\n    // include dependencies to avoid stale closures\n  }, [symbolValid, autoStart, connected, disconnect]);\n\n  // Ask for notification permission on first user interaction\n  useEffect(() => {\n    const handle = () => {\n      if ('Notification' in window && Notification.permission === 'default') {\n        Notification.requestPermission().then(() => {});\n      }\n      window.removeEventListener('click', handle);\n    };\n    window.addEventListener('click', handle);\n    return () => window.removeEventListener('click', handle);\n  }, []);\n\n  // react to confirmed cross changes and notify (skip initial)\n  useEffect(() => {\n    if (!confirmedCross) return;\n    // If the confirmed signal came from initial seeding, don't notify — treat as seeded state\n    if (confirmedSource === 'init') {\n      // ensure we don't trigger notification for seed values\n      lastNotified.current = confirmedCross;\n      return;\n    }\n    if (lastNotified.current == null) {\n      // seed without notifying\n      lastNotified.current = confirmedCross;\n      return;\n    }\n    if (lastNotified.current !== confirmedCross) {\n      const type = confirmedCross === 'bull' ? 'Bullish EMA9 > EMA26' : 'Bearish EMA9 < EMA26';\n      const symToShowRaw = activeSymbol || symbol || '';\n      const symToShow = (symToShowRaw || '').toString().replace(/[^A-Za-z0-9]/g, '').toUpperCase();\n      // Determine the authoritative price to show/send. Prefer closed-candle `lastPrice`,\n      // but fall back to the most recent live tick (`lastTick`) when a closed price\n      // isn't yet available. Still skip only when this is the initial seeded value.\n      const priceToUse = typeof lastPrice !== 'undefined' && lastPrice !== null ? lastPrice : typeof lastTick !== 'undefined' && lastTick !== null ? lastTick : null;\n      if (confirmedSource === 'init') {\n        // do not notify for seed values\n        lastNotified.current = confirmedCross;\n        return;\n      }\n      if (priceToUse == null) {\n        // If we truly have no price at all, skip but log in debug so user can inspect\n        if (showDebug) console.debug('[App] skipping notification: no price available (lastPrice & lastTick are null)', {\n          confirmedCross,\n          confirmedSource,\n          activeSymbol,\n          symbol\n        });\n        lastNotified.current = confirmedCross;\n        return;\n      }\n      const body = `${symToShow} ${type} @ ${priceToUse}`;\n\n      // Also request the server to send a Telegram message for this confirmed cross.\n      // Use a small retry loop to improve reliability in case of transient network/server errors.\n      (async () => {\n        const serverUrl = process.env.REACT_APP_SERVER_URL || 'http://localhost:3001';\n        const payload = {\n          symbol: symToShow,\n          price: priceToUse,\n          message: type + ' @ ' + priceToUse\n        };\n        const maxAttempts = 3;\n        let attempt = 0;\n        let lastError = null;\n        while (attempt < maxAttempts) {\n          attempt += 1;\n          try {\n            if (showDebug) console.debug('[App] confirmedCross sending /send-alert attempt', attempt, payload);\n            const res = await fetch(`${serverUrl}/send-alert`, {\n              method: 'POST',\n              headers: {\n                'Content-Type': 'application/json'\n              },\n              body: JSON.stringify(payload)\n            });\n            let json = null;\n            try {\n              json = await res.json();\n            } catch (e) {\n              json = null;\n            }\n            const sendEv = {\n              ts: Date.now(),\n              time: new Date().toLocaleString(),\n              type: 'telegram_send',\n              symbol: symToShow,\n              source: 'client-confirmed',\n              ok: res.ok,\n              status: res.status,\n              body: json,\n              attempt\n            };\n            try {\n              addEvent(sendEv);\n            } catch (e) {\n              setEvents(prev => [sendEv, ...prev].slice(0, 500));\n            }\n            try {\n              showToast(res.ok ? `Telegram send OK (${symToShow})` : `Telegram send failed (${res.status})`, res.ok);\n            } catch (e) {}\n            if (res.ok) break; // success\n            lastError = new Error(`HTTP ${res.status}`);\n          } catch (e) {\n            lastError = e;\n            if (showDebug) console.debug('[App] confirmedCross send attempt failed', attempt, e);\n          }\n          // exponential backoff before retrying\n          if (attempt < maxAttempts) {\n            const delay = 500 * Math.pow(2, attempt - 1); // 500ms, 1000ms\n            await new Promise(r => setTimeout(r, delay));\n          }\n        }\n        if (lastError && showDebug) console.debug('[App] confirmedCross final send error', lastError);\n      })();\n\n      // browser notification\n      if ('Notification' in window && Notification.permission === 'granted') {\n        new Notification(type, {\n          body\n        });\n      }\n\n      // beep and log\n      beep();\n      const evObj = {\n        ts: Date.now(),\n        time: new Date().toLocaleString(),\n        type: confirmedCross,\n        price: lastPrice,\n        symbol: symToShow,\n        source: confirmedSource || 'unknown'\n      };\n      if (showDebug) console.debug('[App] created confirmedCross event', evObj);\n      setEvents(s => [evObj, ...s].slice(0, 500));\n      lastNotified.current = confirmedCross;\n    }\n  }, [confirmedCross, lastPrice, lastTick, symbol, activeSymbol, confirmedSource, showDebug, addEvent, showToast]);\n\n  // 심볼이 바뀔 때 이전 심볼의 알림 상태가 남아 있어 잘못된 알림이 뜨는 문제 방지\n  // 심볼을 변경하면 lastNotified를 초기화해서 다음 confirmedCross는 초기 시드로 처리되도록 한다.\n  useEffect(() => {\n    try {\n      lastNotified.current = null;\n    } catch (e) {}\n    // also clear displayed events when symbol changes to avoid mixing alerts from different symbols\n    try {\n      setEvents([]);\n    } catch (e) {}\n  }, [symbol]);\n\n  // persist last selected symbol so the app remembers it between sessions\n  useEffect(() => {\n    try {\n      if (!symbol) return;\n      const norm = (symbol || '').toString().replace(/[^A-Za-z0-9]/g, '').toUpperCase();\n      localStorage.setItem('lastSymbol', norm);\n    } catch (e) {}\n  }, [symbol]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(TopMenu, {\n      onNavigate: setView,\n      view: view\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 611,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `card ${view === 'alerts' ? 'view-alerts' : ''}`,\n        children: view === 'scanner' ? /*#__PURE__*/_jsxDEV(ScannerPage, {\n          availableSymbols: availableSymbols,\n          fetchExchangeInfo: fetchExchangeInfo,\n          monitorMinutes: monitorMinutes,\n          setMonitorMinutes: setMonitorMinutes,\n          monitorEma1: monitorEma1,\n          setMonitorEma1: setMonitorEma1,\n          monitorEma2: monitorEma2,\n          setMonitorEma2: setMonitorEma2\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 615,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Header, {\n            serverSymbol: serverSymbol,\n            sseConnected: sseConnected,\n            lastHealthyAt: lastHealthyAt,\n            telegramConfigured: telegramConfigured,\n            timeframe: `${monitorMinutes}m · EMA${monitorEma1} / EMA${monitorEma2}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 618,\n            columnNumber: 15\n          }, this), toast && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: 'absolute',\n              top: 12,\n              right: 12,\n              padding: '8px 12px',\n              background: toast.ok ? 'rgba(0,128,0,0.9)' : 'rgba(200,30,30,0.95)',\n              color: '#fff',\n              borderRadius: 6,\n              zIndex: 9999,\n              boxShadow: '0 2px 8px rgba(0,0,0,0.3)'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '0.9rem',\n                fontWeight: 600\n              },\n              children: toast.ok ? 'Success' : 'Error'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 622,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '0.8rem',\n                marginTop: 4\n              },\n              children: toast.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 623,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 621,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Controls, {\n            symbol: symbol,\n            setSymbol: setSymbol,\n            symbolValid: symbolValid,\n            setSymbolValid: setSymbolValid,\n            suggestions: suggestions,\n            setSuggestions: setSuggestions,\n            availableSymbols: availableSymbols,\n            validateSymbolOnce: validateSymbolOnce,\n            connect: setServerAndConnect,\n            disconnect: disconnect,\n            status: status,\n            connected: connected\n            // monitoring inputs\n            ,\n            monitorMinutes: monitorMinutes,\n            setMonitorMinutes: setMonitorMinutes,\n            monitorEma1: monitorEma1,\n            setMonitorEma1: setMonitorEma1,\n            monitorEma2: monitorEma2,\n            setMonitorEma2: setMonitorEma2\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 627,\n            columnNumber: 15\n          }, this), status === 'reloading' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loading-text\",\n            children: \"\\uCD08\\uAE30\\uD654 \\uC911... \\uC7A0\\uC2DC\\uB9CC \\uAE30\\uB2E4\\uB824\\uC8FC\\uC138\\uC694\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 651,\n            columnNumber: 17\n          }, this), symbolValid === false && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"invalid-msg\",\n            children: [\"Invalid symbol \\u2014 please check the trading pair (e.g. BTCUSDT)\", suggestions && suggestions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"suggestions-wrap\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"suggestions-title\",\n                children: \"Did you mean:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 658,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"suggestions-list\",\n                children: suggestions.map(s => /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"suggestion-btn\",\n                  onClick: () => {\n                    setSymbol(s);\n                    setSymbolValid(true);\n                    setSuggestions([]);\n                    try {\n                      if (autoStart) setServerAndConnect(s);\n                    } catch (e) {}\n                  },\n                  children: s\n                }, s, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 661,\n                  columnNumber: 27\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 659,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 657,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 654,\n            columnNumber: 17\n          }, this), view === 'debug' ? /*#__PURE__*/_jsxDEV(DebugPanel, {\n            availableSymbols: availableSymbols,\n            fetchExchangeInfo: fetchExchangeInfo,\n            showDebug: showDebug,\n            setMarketCheckResult: setMarketCheckResult,\n            marketCheckResult: marketCheckResult,\n            symbol: symbol,\n            onSimulateAlert: simulateConfirmedCross\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 675,\n            columnNumber: 17\n          }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"status\",\n            children: [\"Status: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: status\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 679,\n              columnNumber: 25\n            }, this), \" \", connected ? /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"status-connected\",\n              children: \"(connected)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 679,\n              columnNumber: 64\n            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"status-disconnected\",\n              children: \"(disconnected)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 679,\n              columnNumber: 120\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 678,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Metrics, {\n            activeSymbol: activeSymbol,\n            symbol: symbol,\n            lastPrice: lastPrice,\n            lastTick: lastTick,\n            lastCandleClosed: lastCandleClosed,\n            cross: cross,\n            confirmedCross: confirmedCross,\n            ema9: ema9,\n            ema26: ema26,\n            monitorEma1: monitorEma1,\n            monitorEma2: monitorEma2\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 682,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Alerts, {\n            events: events,\n            removeAlertByTs: removeAlertByTs,\n            symbol: symbol,\n            symbolValid: symbolValid,\n            status: status,\n            connect: setServerAndConnect,\n            disconnect: disconnect,\n            monitorMinutes: monitorMinutes,\n            monitorEma1: monitorEma1,\n            monitorEma2: monitorEma2\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 684,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Notes, {\n            children: \"Notes: This app uses Binance public REST + websocket. Make sure network allows wss access to stream.binance.com.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 697,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 613,\n        columnNumber: 3\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 612,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 610,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"Md7vyCQldXzqfGuKcpVltnfzQ0E=\", false, function () {\n  return [useEmaCross];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useRef","useState","useEmaCross","Alerts","Metrics","Controls","DebugPanel","Notes","Header","TopMenu","ScannerPage","scannerManager","jsxDEV","_jsxDEV","Fragment","_Fragment","beep","AudioCtx","window","AudioContext","webkitAudioContext","ctx","o","createOscillator","g","createGain","type","frequency","value","connect","destination","start","gain","setValueAtTime","currentTime","exponentialRampToValueAtTime","setTimeout","stop","close","e","App","_s","darkMode","setDarkMode","raw","localStorage","getItem","toggleDark","useCallback","d","next","setItem","symbol","setSymbol","toString","replace","toUpperCase","autoStart","setAutoStart","symbolValid","setSymbolValid","availableSymbols","setAvailableSymbols","showDebug","suggestions","setSuggestions","monitorMinutes","setMonitorMinutes","parsed","JSON","parse","Number","monitorEma1","setMonitorEma1","monitorEma2","setMonitorEma2","marketCheckResult","setMarketCheckResult","fetchExchangeInfo","res","fetch","ok","console","warn","status","data","json","syms","symbols","map","s","validateSymbolOnce","q","length","normQ","sym","normSym","Array","isArray","ema9","ema26","lastPrice","lastTick","lastCandleClosed","cross","confirmedCross","confirmedSource","connected","disconnect","activeSymbol","autoConnect","debug","interval","emaShort","emaLong","events","setEvents","toast","setToast","isDuplicateEvent","newEv","existing","aSym","bSym","price","String","aTs","ts","Date","time","bTs","Math","abs","addEvent","ev","prev","some","p","slice","setGetSymbols","off","onUpdate","results","r","now","toLocaleString","last26","source","showToast","message","lastNotified","sseConnected","setSseConnected","serverSymbol","setServerSymbol","lastHealthyAt","setLastHealthyAt","telegramConfigured","setTelegramConfigured","view","setView","simulateConfirmedCross","forceType","text","serverUrl","process","env","REACT_APP_SERVER_URL","url","payload","method","headers","body","stringify","sendEv","errEv","error","err","EventSource","es","onopen","then","j","catch","onmessage","obj","current","incoming","evObj","when","alert","onerror","setServerAndConnect","opts","test","params","URLSearchParams","toStore","endsWith","lastSymbol","mounted","poll","id","setInterval","clearInterval","ALERTS_LS_KEY","saveAlertsToLocalStorage","arr","loadAlertsFromLocalStorage","saved","cutoff","normTarget","filtered","filter","isNaN","evSym","removeAlertByTs","handle","Notification","permission","requestPermission","removeEventListener","addEventListener","symToShowRaw","symToShow","priceToUse","maxAttempts","attempt","lastError","Error","delay","pow","Promise","norm","className","children","onNavigate","fileName","_jsxFileName","lineNumber","columnNumber","timeframe","style","position","top","right","padding","background","color","borderRadius","zIndex","boxShadow","fontSize","fontWeight","marginTop","onClick","onSimulateAlert","_c","$RefreshReg$"],"sources":["C:/Users/e1it3/Desktop/program/binance_alert/src/App.js"],"sourcesContent":["import './App.css';\nimport React, { useEffect, useRef, useState } from 'react';\nimport useEmaCross from './hooks/useEmaCross';\nimport Alerts from './components/Alerts';\nimport Metrics from './components/Metrics';\nimport Controls from './components/Controls';\nimport DebugPanel from './components/DebugPanel';\nimport Notes from './components/Notes';\nimport Header from './components/Header';\nimport TopMenu from './components/TopMenu';\nimport ScannerPage from './pages/ScannerPage';\nimport scannerManager from './lib/scannerManager';\n\nfunction beep() {\n  try {\n    const AudioCtx = window.AudioContext || window.webkitAudioContext;\n    const ctx = new AudioCtx();\n    const o = ctx.createOscillator();\n    const g = ctx.createGain();\n    o.type = 'sine';\n    o.frequency.value = 880;\n    o.connect(g);\n    g.connect(ctx.destination);\n    o.start();\n    g.gain.setValueAtTime(0.0001, ctx.currentTime);\n    g.gain.exponentialRampToValueAtTime(0.1, ctx.currentTime + 0.01);\n    g.gain.exponentialRampToValueAtTime(0.0001, ctx.currentTime + 0.6);\n    setTimeout(() => {\n      o.stop();\n      try { ctx.close(); } catch (e) {}\n    }, 700);\n  } catch (e) {\n    // ignore\n  }\n}\n\nfunction App() {\n  const [darkMode, setDarkMode] = useState(() => {\n    try {\n      const raw = localStorage.getItem('darkMode');\n      return raw === '1';\n    } catch (e) { return false; }\n  });\n\n  const toggleDark = React.useCallback(() => {\n    try {\n      setDarkMode((d) => {\n        const next = !d;\n        try { localStorage.setItem('darkMode', next ? '1' : '0'); } catch (e) {}\n        return next;\n      });\n    } catch (e) {}\n  }, []);\n\n  const [symbol, setSymbol] = useState(() => {\n    try {\n      const raw = localStorage.getItem('lastSymbol');\n      if (raw && typeof raw === 'string') return raw.toString().replace(/[^A-Za-z0-9]/g, '').toUpperCase();\n    } catch (e) {}\n    return 'BTCUSDT';\n  });\n  const [autoStart, setAutoStart] = useState(true);\n  const [symbolValid, setSymbolValid] = useState(null); // null=unknown, true/false\n  // symbolValidateTimer moved into Controls component\n  const [availableSymbols, setAvailableSymbols] = useState(null);\n  const [showDebug] = useState(false);\n  const [suggestions, setSuggestions] = useState([]);\n  // monitoring inputs (minutes + EMA short/long)\n  const [monitorMinutes, setMonitorMinutes] = useState(() => {\n    try {\n      const raw = localStorage.getItem('lastMonitor');\n      if (raw) {\n        const parsed = JSON.parse(raw);\n        if (parsed && typeof parsed.monitorMinutes !== 'undefined') return Number(parsed.monitorMinutes) || 5;\n      }\n    } catch (e) {}\n    return 5;\n  });\n  const [monitorEma1, setMonitorEma1] = useState(() => {\n    try {\n      const raw = localStorage.getItem('lastMonitor');\n      if (raw) {\n        const parsed = JSON.parse(raw);\n        if (parsed && typeof parsed.monitorEma1 !== 'undefined') return Number(parsed.monitorEma1) || 26;\n      }\n    } catch (e) {}\n    return 26;\n  });\n  const [monitorEma2, setMonitorEma2] = useState(() => {\n    try {\n      const raw = localStorage.getItem('lastMonitor');\n      if (raw) {\n        const parsed = JSON.parse(raw);\n        if (parsed && typeof parsed.monitorEma2 !== 'undefined') return Number(parsed.monitorEma2) || 200;\n      }\n    } catch (e) {}\n    return 200;\n  });\n  const [marketCheckResult, setMarketCheckResult] = useState(null);\n  // helper to fetch exchangeInfo and populate availableSymbols\n  async function fetchExchangeInfo() {\n    try {\n      // default to Binance Futures (USDT-M) exchangeInfo for symbols\n      const res = await fetch('https://fapi.binance.com/fapi/v1/exchangeInfo');\n      if (!res.ok) {\n        console.warn('exchangeInfo fetch failed', res.status);\n        setAvailableSymbols([]);\n        return;\n      }\n      const data = await res.json();\n      const syms = (data.symbols || []).map(s => s.symbol);\n      setAvailableSymbols(syms);\n    } catch (e) {\n      console.warn('exchangeInfo fetch error', e);\n      setAvailableSymbols([]);\n    }\n  }\n\n  // fetch full symbol list once on mount for reliable validation\n  // fetch full symbol list once on mount for reliable validation\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useEffect(() => {\n    fetchExchangeInfo();\n  }, []);\n\n\n\n  // helper to validate a symbol (returns true/false)\n  async function validateSymbolOnce(s) {\n    const q = (s || '').replace(/[^A-Za-z0-9]/g, '').toUpperCase();\n    if (!q) return false;\n    // If we have a cached symbol list, compare using a normalized form (strip non-alnum, uppercase)\n    if (availableSymbols && availableSymbols.length > 0) {\n      const normQ = q;\n      for (const sym of availableSymbols) {\n        const normSym = (sym || '').replace(/[^A-Za-z0-9]/g, '').toUpperCase();\n        if (normSym === normQ) return true;\n      }\n      return false;\n    }\n    // Fallback to exchangeInfo query for the single symbol\n    try {\n      // fallback to Binance Futures exchangeInfo lookup\n      const res = await fetch(`https://fapi.binance.com/fapi/v1/exchangeInfo?symbol=${q}`);\n      if (!res.ok) return false;\n      const data = await res.json();\n      // if API returned an object with matching symbol(s), accept it\n      if (data && Array.isArray(data.symbols) && data.symbols.length > 0) return true;\n      if (data && data.symbol) return true;\n      return false;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  // if symbol becomes invalid, disable autoStart and disconnect to avoid wrong subscriptions\n  // (moved below after hook initialization because it depends on connected/disconnect)\n  // Disable hook autoConnect: App will control connecting so we can update server monitor symbol first\n  const { ema9, ema26, lastPrice, lastTick, lastCandleClosed, cross, confirmedCross, confirmedSource, connected, status, connect, disconnect, activeSymbol } = useEmaCross({ symbol, autoConnect: true, debug: showDebug, interval: `${monitorMinutes}m`, emaShort: monitorEma1, emaLong: monitorEma2 });\n\n  \n  \n  const [events, setEvents] = useState([]);\n  const [toast, setToast] = useState(null);\n  // Helper: detect duplicate events and add only if not duplicate\n  // Dedup logic: consider events duplicate if symbol + type match and their timestamps are within 5s,\n  // or if price matches exactly and symbol+type match. This helps avoid server+client duplicate alerts.\n  const isDuplicateEvent = React.useCallback((newEv, existing) => {\n    try {\n      if (!existing || !newEv) return false;\n      const aSym = (existing.symbol || '').toString().replace(/[^A-Za-z0-9]/g, '').toUpperCase();\n      const bSym = (newEv.symbol || '').toString().replace(/[^A-Za-z0-9]/g, '').toUpperCase();\n      if (!aSym || !bSym || aSym !== bSym) return false;\n      if ((existing.type || '') !== (newEv.type || '')) return false;\n      // exact price match\n      if (typeof existing.price !== 'undefined' && typeof newEv.price !== 'undefined' && String(existing.price) === String(newEv.price)) return true;\n      // timestamp proximity (use ts if available, otherwise parse time)\n      const aTs = typeof existing.ts === 'number' ? existing.ts : (Date.parse(existing.time || '') || 0);\n      const bTs = typeof newEv.ts === 'number' ? newEv.ts : (Date.parse(newEv.time || '') || 0);\n      if (aTs && bTs && Math.abs(aTs - bTs) <= 5000) return true;\n    } catch (e) {}\n    return false;\n  }, []);\n\n  const addEvent = React.useCallback((ev) => {\n    setEvents((prev) => {\n      try {\n        if (Array.isArray(prev) && prev.some((p) => isDuplicateEvent(ev, p))) {\n          if (showDebug) console.debug('[App] suppressed duplicate event', ev);\n          return prev;\n        }\n      } catch (e) {}\n      return [ev, ...prev].slice(0, 500);\n    });\n  }, [isDuplicateEvent, showDebug]);\n  // Wire scannerManager to provide available symbols and forward matches into App events\n  useEffect(() => {\n    try {\n      scannerManager.setGetSymbols(() => availableSymbols || []);\n      const off = scannerManager.onUpdate((s) => {\n        try {\n          // s.results contains matches; forward them as 'alert' events into the main events list\n          if (s && Array.isArray(s.results) && s.results.length > 0) {\n            for (const r of s.results) {\n              try {\n                const ev = { ts: Date.now(), time: r.time || new Date().toLocaleString(), type: 'alert', price: r.last26 || null, symbol: (r.symbol || '').toString().replace(/[^A-Za-z0-9]/g, '').toUpperCase(), source: 'scanner' };\n                addEvent(ev);\n              } catch (e) {}\n            }\n          }\n        } catch (e) {}\n      });\n      return () => { try { off(); } catch (e) {} };\n    } catch (e) {}\n  }, [availableSymbols, addEvent]);\n  const showToast = React.useCallback((message, ok = true) => {\n    try {\n      setToast({ message, ok, ts: Date.now() });\n      // auto-dismiss after 5s\n      setTimeout(() => {\n        try { setToast(null); } catch (e) {}\n      }, 5000);\n    } catch (e) {}\n  }, []);\n  const lastNotified = useRef(null);\n  const [sseConnected, setSseConnected] = useState(false);\n  const [serverSymbol, setServerSymbol] = useState(null);\n  const [lastHealthyAt, setLastHealthyAt] = useState(null);\n  const [telegramConfigured, setTelegramConfigured] = useState(null); // null=unknown, true/false\n  const [view, setView] = useState('alerts');\n\n  // Debug helper: simulate a confirmed cross from the frontend (calls /send-alert and adds local event)\n  const simulateConfirmedCross = React.useCallback((forceType) => {\n    try {\n      const type = forceType || (confirmedCross || 'bull');\n      const sym = (activeSymbol || symbol || '').toString().replace(/[^A-Za-z0-9]/g, '').toUpperCase();\n      const price = lastPrice || 0;\n      const text = `${sym} ${type === 'bull' ? 'Bullish EMA9 > EMA26' : 'Bearish EMA9 < EMA26'} @ ${price}`;\n      // add local event\n      const ev = { ts: Date.now(), time: new Date().toLocaleString(), type: type === 'bull' ? 'bull' : 'bear', price, symbol: sym, source: 'client-sim' };\n      addEvent(ev);\n      // fire server send\n      (async () => {\n        const serverUrl = process.env.REACT_APP_SERVER_URL || 'http://localhost:3001';\n        try {\n          if (showDebug) console.debug('[App] simulate sending /send-alert', { url: `${serverUrl}/send-alert`, payload: { symbol: sym, price, message: text } });\n          const res = await fetch(`${serverUrl}/send-alert`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ symbol: sym, price, message: text }) });\n          let json = null;\n          try { json = await res.json(); } catch (e) { json = null; }\n          const sendEv = { ts: Date.now(), time: new Date().toLocaleString(), type: 'telegram_send', symbol: sym, source: 'client-send', ok: res.ok, status: res.status, body: json };\n          addEvent(sendEv);\n          // show immediate toast to user\n          try { showToast(res.ok ? `Telegram send OK (${sym})` : `Telegram send failed (${res.status})`, res.ok); } catch (e) {}\n          if (showDebug) console.debug('[App] simulate /send-alert response', sendEv);\n        } catch (e) {\n          const errEv = { ts: Date.now(), time: new Date().toLocaleString(), type: 'telegram_send', symbol: sym, source: 'client-send', ok: false, error: String(e) };\n          addEvent(errEv);\n          try { showToast(`Telegram send error: ${String(e)}`, false); } catch (err) {}\n          if (showDebug) console.debug('[App] simulate send-alert failed', e);\n        }\n      })();\n    } catch (e) { if (showDebug) console.debug('[App] simulateConfirmedCross error', e); }\n  }, [activeSymbol, symbol, lastPrice, addEvent, showDebug, confirmedCross, showToast]);\n\n \n\n  // Subscribe to server-sent events from server (realtime alerts emitted by server)\n  useEffect(() => {\n    const serverUrl = process.env.REACT_APP_SERVER_URL || 'http://localhost:3001';\n    if (!window.EventSource) return;\n    let es;\n    try {\n      es = new EventSource(`${serverUrl}/events`);\n      es.onopen = () => {\n        setSseConnected(true);\n        // fetch health once when SSE opens to sync server-side monitored symbol\n        try {\n          fetch(`${serverUrl}/health`).then((r) => r.json()).then((j) => { if (j && j.symbol) setServerSymbol((j.symbol || '').toString().toUpperCase()); }).catch(() => {});\n        } catch (e) {}\n      };\n      es.onmessage = (e) => {\n        try {\n          const obj = JSON.parse(e.data);\n          if (!obj) return;\n          // handle server alert events and telegram_sent confirmations\n          if (obj.type === 'alert') {\n            // prefer the activeSymbol from the hook, fallback to the selected symbol\n            const current = (activeSymbol || symbol || '').toString().replace(/[^A-Za-z0-9]/g, '').toUpperCase();\n            const incoming = (obj.symbol || '').toString().replace(/[^A-Za-z0-9]/g, '').toUpperCase();\n            // require incoming symbol to be present and match the currently-active symbol\n            if (!incoming || !current || incoming !== current) {\n              if (showDebug) console.debug('[App] dropping SSE alert for different symbol', { incoming, current, obj });\n              return;\n            }\n\n            const evObj = { ts: obj.ts || Date.now(), time: obj.when ? new Date(obj.when).toLocaleString() : new Date().toLocaleString(), type: obj.alert === 'bull' ? 'bull' : 'bear', price: obj.price, symbol: incoming, source: 'server' };\n            // use centralized dedupe/add helper\n            try { addEvent(evObj); } catch (e) { setEvents((prev) => [evObj, ...prev].slice(0, 500)); }\n          } else if (obj.type === 'telegram_sent') {\n            // server confirmed it sent a telegram; add a small event so UI reflects it\n            try {\n              const sym = (obj.symbol || '').toString().replace(/[^A-Za-z0-9]/g, '').toUpperCase() || (activeSymbol || symbol || '').toString().toUpperCase();\n              const ev = { ts: obj.ts || Date.now(), time: new Date(obj.ts || Date.now()).toLocaleString(), type: 'telegram', price: obj.price || lastPrice, symbol: sym, source: 'server-telegram', ok: obj.ok };\n              addEvent(ev);\n            } catch (e) {}\n          }\n        } catch (err) {}\n      };\n      es.onerror = () => {\n        setSseConnected(false);\n        try { es.close(); } catch (e) {}\n      };\n    } catch (e) {}\n    return () => { try { es && es.close(); } catch (e) {} };\n  }, [symbol, activeSymbol, showDebug, addEvent, lastPrice]);\n\n  // helper to ask server to monitor a symbol, then connect the client\n  const setServerAndConnect = React.useCallback(async (sym, opts) => {\n    const serverUrl = process.env.REACT_APP_SERVER_URL || 'http://localhost:3001';\n    const q = (sym || '').toString().replace(/[^A-Za-z0-9]/g, '').toUpperCase();\n    let interval = (opts && typeof opts.interval !== 'undefined') ? opts.interval : monitorMinutes;\n    // normalize interval to a string accepted by Binance (e.g., '5m'). If a plain number is provided, treat as minutes.\n    if (typeof interval === 'number' || (typeof interval === 'string' && /^\\d+$/.test(String(interval)))) {\n      interval = `${interval}m`;\n    }\n    const emaShort = (opts && typeof opts.emaShort !== 'undefined') ? opts.emaShort : monitorEma1;\n    const emaLong = (opts && typeof opts.emaLong !== 'undefined') ? opts.emaLong : monitorEma2;\n    if (!q) {\n      try { connect(sym); } catch (e) {}\n      return;\n    }\n    try {\n      // call server endpoint to change monitored symbol and monitoring params\n  const params = new URLSearchParams({ symbol: q, interval: String(interval), emaShort: String(emaShort), emaLong: String(emaLong) });\n      await fetch(`${serverUrl}/set-symbol?${params.toString()}`, { method: 'GET' });\n      setServerSymbol(q);\n    } catch (e) {\n      // ignore server errors and proceed to connect locally\n    }\n    try { connect(q); } catch (e) {}\n    // persist the last-used monitor inputs so Alerts/Controls can restore them\n    try {\n      const toStore = { monitorMinutes: (typeof interval === 'string' && interval.endsWith('m')) ? Number(interval.replace(/m$/, '')) : Number(interval), monitorEma1: Number(emaShort), monitorEma2: Number(emaLong), lastSymbol: q };\n      localStorage.setItem('lastMonitor', JSON.stringify(toStore));\n    } catch (e) {}\n  }, [connect, monitorMinutes, monitorEma1, monitorEma2]);\n\n  \n\n  // 자동 연결: symbol이 유효하고 autoStart가 켜져 있으면 Start 버튼을 누르지 않아도 connect 호출\n  useEffect(() => {\n    try {\n      const q = (symbol || '').replace(/[^A-Za-z0-9]/g, '').toUpperCase();\n      // only attempt auto-start after the hook has initialized its EMA seed\n      if (q && symbolValid === true && autoStart && status === 'initialized') {\n        if (!activeSymbol || activeSymbol.toString().toUpperCase() !== q) {\n          // ensure server monitor symbol is updated before connecting\n          try { setServerAndConnect(q); } catch (e) { connect(q); }\n        }\n      }\n    } catch (e) {\n      // ignore\n    }\n  }, [symbol, symbolValid, autoStart, activeSymbol, connect, setServerAndConnect, status]);\n\n  // fetch server health on mount in case SSE isn't available yet\n  useEffect(() => {\n    const serverUrl = process.env.REACT_APP_SERVER_URL || 'http://localhost:3001';\n    try {\n      fetch(`${serverUrl}/health`).then((r) => r.json()).then((j) => { if (j && j.symbol) setServerSymbol((j.symbol || '').toString().toUpperCase()); if (j) { setLastHealthyAt(Date.now()); if (typeof j?.telegramConfigured !== 'undefined') setTelegramConfigured(!!j.telegramConfigured); } }).catch(() => {});\n    } catch (e) {}\n  }, []);\n\n  // poll /health periodically so UI can show last healthy time; keeps serverSymbol and telegramConfigured in sync\n  useEffect(() => {\n    const serverUrl = process.env.REACT_APP_SERVER_URL || 'http://localhost:3001';\n    let mounted = true;\n    async function poll() {\n      try {\n        const r = await fetch(`${serverUrl}/health`);\n        if (!mounted) return;\n        const j = await r.json();\n        if (j && j.symbol) setServerSymbol((j.symbol || '').toString().toUpperCase());\n        if (j) {\n          setLastHealthyAt(Date.now());\n          if (typeof j?.telegramConfigured !== 'undefined') setTelegramConfigured(!!j.telegramConfigured);\n        }\n      } catch (e) {\n        // keep lastHealthyAt as-is on error\n      }\n    }\n    // initial poll\n    poll();\n    const id = setInterval(poll, 15000);\n    return () => { mounted = false; clearInterval(id); };\n  }, []);\n\n  // clearAlerts will be handled inline if needed; no export/import UI\n\n  // --- localStorage에 Alerts 저장/복원 헬퍼 ---\n  const ALERTS_LS_KEY = 'alerts';\n  function saveAlertsToLocalStorage(arr) {\n    try {\n      if (!Array.isArray(arr)) return;\n      // 저장 크기 제한을 위해 최신 500개(로컬스토리지라 쿠키보다 여유)\n      const toStore = JSON.stringify(arr.slice(0, 500));\n      localStorage.setItem(ALERTS_LS_KEY, toStore);\n    } catch (e) {\n      // ignore\n    }\n  }\n\n  function loadAlertsFromLocalStorage() {\n    try {\n      const raw = localStorage.getItem(ALERTS_LS_KEY);\n      if (!raw) return null;\n      const parsed = JSON.parse(raw);\n      if (Array.isArray(parsed)) return parsed;\n      return null;\n    } catch (e) {\n      return null;\n    }\n  }\n\n  // 복원: 마운트 시 localStorage에서 alerts 복원 (7일 초과 항목은 제거)\n  useEffect(() => {\n    try {\n      const saved = loadAlertsFromLocalStorage();\n      if (saved && Array.isArray(saved) && saved.length > 0) {\n        const cutoff = Date.now() - 1000 * 60 * 60 * 24 * 7; // 7 days\n        const normTarget = (symbol || '').replace(/[^A-Za-z0-9]/g, '').toUpperCase();\n        const filtered = saved.filter((ev) => {\n          if (!ev) return false;\n          if (typeof ev.ts === 'number' && ev.ts < cutoff) return false;\n          // try parse time string as fallback\n          if (typeof ev.ts !== 'number') {\n            const parsed = Date.parse(ev.time || '');\n            if (isNaN(parsed) || parsed < cutoff) return false;\n          }\n          // require event symbol to match the current selected symbol to avoid showing other-pair alerts\n          const evSym = (ev.symbol || '').toString().replace(/[^A-Za-z0-9]/g, '').toUpperCase();\n          return evSym === normTarget;\n        });\n        setEvents(filtered);\n      }\n    } catch (e) {}\n  }, [symbol]);\n\n  // Persist monitor inputs whenever they change so UI values are remembered\n  useEffect(() => {\n    try {\n      const toStore = { monitorMinutes, monitorEma1, monitorEma2, lastSymbol: symbol };\n      localStorage.setItem('lastMonitor', JSON.stringify(toStore));\n    } catch (e) {}\n  }, [monitorMinutes, monitorEma1, monitorEma2, symbol]);\n\n  // 저장: events가 바뀔 때마다 localStorage에 반영 (저장 전에 7일 초과 항목 제거)\n  useEffect(() => {\n    try {\n      const cutoff = Date.now() - 1000 * 60 * 60 * 24 * 7; // 7 days\n      const filtered = (events || []).filter((ev) => {\n        if (!ev) return false;\n        if (typeof ev.ts === 'number') return ev.ts >= cutoff;\n        const parsed = Date.parse(ev.time || '');\n        if (!isNaN(parsed)) return parsed >= cutoff;\n        return false;\n      });\n      saveAlertsToLocalStorage(filtered);\n    } catch (e) {}\n  }, [events]);\n\n  // Alerts 항목 삭제 핸들러 (ts 기반으로 고유 항목 제거)\n  function removeAlertByTs(ts) {\n    try {\n      const next = (events || []).filter((ev) => ev && ev.ts !== ts);\n      setEvents(next);\n    } catch (e) {}\n  }\n  \n\n  // if symbol becomes invalid, disable autoStart and disconnect to avoid wrong subscriptions\n  useEffect(() => {\n    if (symbolValid === false) {\n      if (autoStart) setAutoStart(false);\n      // ensure disconnected\n      if (connected) disconnect();\n    }\n    // include dependencies to avoid stale closures\n  }, [symbolValid, autoStart, connected, disconnect]);\n\n  // Ask for notification permission on first user interaction\n  useEffect(() => {\n    const handle = () => {\n      if ('Notification' in window && Notification.permission === 'default') {\n        Notification.requestPermission().then(() => {});\n      }\n      window.removeEventListener('click', handle);\n    };\n    window.addEventListener('click', handle);\n    return () => window.removeEventListener('click', handle);\n  }, []);\n\n  // react to confirmed cross changes and notify (skip initial)\n  useEffect(() => {\n    if (!confirmedCross) return;\n    // If the confirmed signal came from initial seeding, don't notify — treat as seeded state\n    if (confirmedSource === 'init') {\n      // ensure we don't trigger notification for seed values\n      lastNotified.current = confirmedCross;\n      return;\n    }\n    if (lastNotified.current == null) {\n      // seed without notifying\n      lastNotified.current = confirmedCross;\n      return;\n    }\n\n    if (lastNotified.current !== confirmedCross) {\n      const type = confirmedCross === 'bull' ? 'Bullish EMA9 > EMA26' : 'Bearish EMA9 < EMA26';\n      const symToShowRaw = activeSymbol || symbol || '';\n      const symToShow = (symToShowRaw || '').toString().replace(/[^A-Za-z0-9]/g, '').toUpperCase();\n        // Determine the authoritative price to show/send. Prefer closed-candle `lastPrice`,\n        // but fall back to the most recent live tick (`lastTick`) when a closed price\n        // isn't yet available. Still skip only when this is the initial seeded value.\n        const priceToUse = (typeof lastPrice !== 'undefined' && lastPrice !== null) ? lastPrice : ((typeof lastTick !== 'undefined' && lastTick !== null) ? lastTick : null);\n        if (confirmedSource === 'init') {\n          // do not notify for seed values\n          lastNotified.current = confirmedCross;\n          return;\n        }\n        if (priceToUse == null) {\n          // If we truly have no price at all, skip but log in debug so user can inspect\n          if (showDebug) console.debug('[App] skipping notification: no price available (lastPrice & lastTick are null)', { confirmedCross, confirmedSource, activeSymbol, symbol });\n          lastNotified.current = confirmedCross;\n          return;\n        }\n        const body = `${symToShow} ${type} @ ${priceToUse}`;\n\n      // Also request the server to send a Telegram message for this confirmed cross.\n      // Use a small retry loop to improve reliability in case of transient network/server errors.\n      (async () => {\n        const serverUrl = process.env.REACT_APP_SERVER_URL || 'http://localhost:3001';\n        const payload = { symbol: symToShow, price: priceToUse, message: type + ' @ ' + priceToUse };\n        const maxAttempts = 3;\n        let attempt = 0;\n        let lastError = null;\n        while (attempt < maxAttempts) {\n          attempt += 1;\n          try {\n            if (showDebug) console.debug('[App] confirmedCross sending /send-alert attempt', attempt, payload);\n            const res = await fetch(`${serverUrl}/send-alert`, {\n              method: 'POST',\n              headers: { 'Content-Type': 'application/json' },\n              body: JSON.stringify(payload),\n            });\n            let json = null;\n            try { json = await res.json(); } catch (e) { json = null; }\n            const sendEv = { ts: Date.now(), time: new Date().toLocaleString(), type: 'telegram_send', symbol: symToShow, source: 'client-confirmed', ok: res.ok, status: res.status, body: json, attempt };\n            try { addEvent(sendEv); } catch (e) { setEvents((prev) => [sendEv, ...prev].slice(0, 500)); }\n            try { showToast(res.ok ? `Telegram send OK (${symToShow})` : `Telegram send failed (${res.status})`, res.ok); } catch (e) {}\n            if (res.ok) break; // success\n            lastError = new Error(`HTTP ${res.status}`);\n          } catch (e) {\n            lastError = e;\n            if (showDebug) console.debug('[App] confirmedCross send attempt failed', attempt, e);\n          }\n          // exponential backoff before retrying\n          if (attempt < maxAttempts) {\n            const delay = 500 * Math.pow(2, attempt - 1); // 500ms, 1000ms\n            await new Promise((r) => setTimeout(r, delay));\n          }\n        }\n        if (lastError && showDebug) console.debug('[App] confirmedCross final send error', lastError);\n      })();\n\n      // browser notification\n      if ('Notification' in window && Notification.permission === 'granted') {\n        new Notification(type, { body });\n      }\n\n      // beep and log\n      beep();\n      const evObj = { ts: Date.now(), time: new Date().toLocaleString(), type: confirmedCross, price: lastPrice, symbol: symToShow, source: confirmedSource || 'unknown' };\n      if (showDebug) console.debug('[App] created confirmedCross event', evObj);\n      setEvents((s) => [evObj, ...s].slice(0, 500));\n      lastNotified.current = confirmedCross;\n    }\n  }, [confirmedCross, lastPrice, lastTick, symbol, activeSymbol, confirmedSource, showDebug, addEvent, showToast]);\n\n  // 심볼이 바뀔 때 이전 심볼의 알림 상태가 남아 있어 잘못된 알림이 뜨는 문제 방지\n  // 심볼을 변경하면 lastNotified를 초기화해서 다음 confirmedCross는 초기 시드로 처리되도록 한다.\n  useEffect(() => {\n    try {\n      lastNotified.current = null;\n    } catch (e) {}\n    // also clear displayed events when symbol changes to avoid mixing alerts from different symbols\n    try { setEvents([]); } catch (e) {}\n  }, [symbol]);\n\n  // persist last selected symbol so the app remembers it between sessions\n  useEffect(() => {\n    try {\n      if (!symbol) return;\n      const norm = (symbol || '').toString().replace(/[^A-Za-z0-9]/g, '').toUpperCase();\n      localStorage.setItem('lastSymbol', norm);\n    } catch (e) {}\n  }, [symbol]);\n\n  return (\n    <div className=\"App\">\n      <TopMenu onNavigate={setView} view={view} />\n      <div className=\"container\">\n  <div className={`card ${view === 'alerts' ? 'view-alerts' : ''}`}>\n              {view === 'scanner' ? (\n            <ScannerPage availableSymbols={availableSymbols} fetchExchangeInfo={fetchExchangeInfo} monitorMinutes={monitorMinutes} setMonitorMinutes={setMonitorMinutes} monitorEma1={monitorEma1} setMonitorEma1={setMonitorEma1} monitorEma2={monitorEma2} setMonitorEma2={setMonitorEma2} />\n          ) : (\n            <>\n              <Header serverSymbol={serverSymbol} sseConnected={sseConnected} lastHealthyAt={lastHealthyAt} telegramConfigured={telegramConfigured} timeframe={`${monitorMinutes}m · EMA${monitorEma1} / EMA${monitorEma2}`} />\n              {/* inline toast for quick feedback */}\n              {toast && (\n                <div style={{position: 'absolute', top: 12, right: 12, padding: '8px 12px', background: toast.ok ? 'rgba(0,128,0,0.9)' : 'rgba(200,30,30,0.95)', color: '#fff', borderRadius: 6, zIndex: 9999, boxShadow: '0 2px 8px rgba(0,0,0,0.3)'}}>\n                  <div style={{fontSize: '0.9rem', fontWeight: 600}}>{toast.ok ? 'Success' : 'Error'}</div>\n                  <div style={{fontSize: '0.8rem', marginTop: 4}}>{toast.message}</div>\n                </div>\n              )}\n\n              <Controls\n                symbol={symbol}\n                setSymbol={setSymbol}\n                \n                symbolValid={symbolValid}\n                setSymbolValid={setSymbolValid}\n                suggestions={suggestions}\n                setSuggestions={setSuggestions}\n                availableSymbols={availableSymbols}\n                validateSymbolOnce={validateSymbolOnce}\n                connect={setServerAndConnect}\n                disconnect={disconnect}\n                status={status}\n                connected={connected}\n                // monitoring inputs\n                monitorMinutes={monitorMinutes}\n                setMonitorMinutes={setMonitorMinutes}\n                monitorEma1={monitorEma1}\n                setMonitorEma1={setMonitorEma1}\n                monitorEma2={monitorEma2}\n                setMonitorEma2={setMonitorEma2}\n              />\n              {/* 간단한 로딩 표시: 심볼 변경으로 상태가 reloading일 때 보임 */}\n              {status === 'reloading' && (\n                <div className=\"loading-text\">초기화 중... 잠시만 기다려주세요</div>\n              )}\n              {symbolValid === false && (\n                <div className=\"invalid-msg\">\n                  Invalid symbol — please check the trading pair (e.g. BTCUSDT)\n                  {suggestions && suggestions.length > 0 && (\n                    <div className=\"suggestions-wrap\">\n                      <div className=\"suggestions-title\">Did you mean:</div>\n                      <div className=\"suggestions-list\">\n                        {suggestions.map((s) => (\n                          <button key={s} className=\"suggestion-btn\" onClick={() => {\n                            setSymbol(s);\n                            setSymbolValid(true);\n                            setSuggestions([]);\n                            try { if (autoStart) setServerAndConnect(s); } catch (e) {}\n                          }}>{s}</button>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n                </div>\n              )}\n\n              {view === 'debug' ? (\n                <DebugPanel availableSymbols={availableSymbols} fetchExchangeInfo={fetchExchangeInfo} showDebug={showDebug} setMarketCheckResult={setMarketCheckResult} marketCheckResult={marketCheckResult} symbol={symbol} onSimulateAlert={simulateConfirmedCross} />\n              ) : null}\n\n              <div className=\"status\">\n                Status: <strong>{status}</strong> {connected ? <span className=\"status-connected\">(connected)</span> : <span className=\"status-disconnected\">(disconnected)</span>}\n              </div>\n\n              <Metrics activeSymbol={activeSymbol} symbol={symbol} lastPrice={lastPrice} lastTick={lastTick} lastCandleClosed={lastCandleClosed} cross={cross} confirmedCross={confirmedCross} ema9={ema9} ema26={ema26} monitorEma1={monitorEma1} monitorEma2={monitorEma2} />\n\n              <Alerts\n                events={events}\n                removeAlertByTs={removeAlertByTs}\n                symbol={symbol}\n                symbolValid={symbolValid}\n                status={status}\n                connect={setServerAndConnect}\n                disconnect={disconnect}\n                monitorMinutes={monitorMinutes}\n                monitorEma1={monitorEma1}\n                monitorEma2={monitorEma2}\n              />\n\n              <Notes>Notes: This app uses Binance public REST + websocket. Make sure network allows wss access to stream.binance.com.</Notes>\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}