{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\e1it3\\\\Desktop\\\\program\\\\binance_alert\\\\src\\\\pages\\\\ScannerPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\n\n// Simple EMA implementation: accepts array of numbers and period, returns array of EMA values (same length, first values may be null until seed)\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction calculateEma(values, period) {\n  if (!Array.isArray(values) || values.length === 0) return [];\n  const k = 2 / (period + 1);\n  const out = [];\n  let ema = null;\n  for (let i = 0; i < values.length; i++) {\n    const v = Number(values[i]);\n    if (isNaN(v)) {\n      out.push(null);\n      continue;\n    }\n    if (ema === null) {\n      // seed with simple moving average of the first `period` values when enough\n      if (i + 1 >= period) {\n        const slice = values.slice(i + 1 - period, i + 1).map(Number);\n        const s = slice.reduce((a, b) => a + b, 0) / period;\n        ema = s;\n        out.push(ema);\n      } else {\n        out.push(null);\n      }\n    } else {\n      ema = v * k + ema * (1 - k);\n      out.push(ema);\n    }\n  }\n  return out;\n}\nfunction sleep(ms) {\n  return new Promise(r => setTimeout(r, ms));\n}\nexport default function ScannerPage({\n  availableSymbols,\n  fetchExchangeInfo\n}) {\n  _s();\n  const [mode, setMode] = useState(null); // 'golden' | 'dead'\n  const [running, setRunning] = useState(false);\n  const [delayMs, setDelayMs] = useState(1000);\n  const [results, setResults] = useState([]);\n  const [progress, setProgress] = useState({\n    done: 0,\n    total: 0\n  });\n  const cancelRef = useRef(false);\n  const symbols = useMemo(() => Array.isArray(availableSymbols) ? availableSymbols.slice() : [], [availableSymbols]);\n  useEffect(() => {\n    // ensure we have symbols (parent fetches on mount)\n    if ((!symbols || symbols.length === 0) && typeof fetchExchangeInfo === 'function') {\n      try {\n        fetchExchangeInfo();\n      } catch (e) {}\n    }\n  }, [symbols, fetchExchangeInfo]);\n\n  // helper: normalize/filter symbols – prefer USDT perpetual/futures pairs if present\n  function filteredSymbols() {\n    if (!symbols || symbols.length === 0) return [];\n    // prefer USDT pairs\n    return symbols.filter(s => typeof s === 'string' && /USDT$/i.test(s));\n  }\n  async function scan(type) {\n    if (!symbols || symbols.length === 0) {\n      alert('Symbol list is empty. Fetching exchange info first.');\n      try {\n        await fetchExchangeInfo();\n      } catch (e) {}\n    }\n    const list = filteredSymbols();\n    setResults([]);\n    setProgress({\n      done: 0,\n      total: list.length\n    });\n    cancelRef.current = false;\n    setRunning(true);\n    setMode(type);\n    const endpointBase = 'https://fapi.binance.com/fapi/v1/klines';\n    for (let i = 0; i < list.length; i++) {\n      if (cancelRef.current) break;\n      const sym = list[i];\n      try {\n        // fetch 5m klines, limit 500 to include 200 periods\n        const url = `${endpointBase}?symbol=${encodeURIComponent(sym)}&interval=5m&limit=500`;\n        const r = await fetch(url);\n        if (!r.ok) {\n          // skip on error\n          if (r.status === 429) {\n            // rate limited: back off more\n            await sleep(Math.max(delayMs, 2000));\n          }\n          setProgress(p => ({\n            ...p,\n            done: p.done + 1\n          }));\n          await sleep(delayMs);\n          continue;\n        }\n        const data = await r.json();\n        // extract close prices\n        const closes = data.map(d => parseFloat(d[4]));\n        if (!Array.isArray(closes) || closes.length < 210) {\n          setProgress(p => ({\n            ...p,\n            done: p.done + 1\n          }));\n          await sleep(delayMs);\n          continue;\n        }\n        const ema26 = calculateEma(closes, 26);\n        const ema200 = calculateEma(closes, 200);\n        const lastIdx = closes.length - 1;\n        const prevIdx = lastIdx - 1;\n        const prev26 = ema26[prevIdx];\n        const prev200 = ema200[prevIdx];\n        const last26 = ema26[lastIdx];\n        const last200 = ema200[lastIdx];\n        let matched = false;\n        if (typeof prev26 === 'number' && typeof prev200 === 'number' && typeof last26 === 'number' && typeof last200 === 'number') {\n          if (type === 'golden') {\n            // previous below or equal, now above\n            if (prev26 <= prev200 && last26 > last200) matched = true;\n          } else if (type === 'dead') {\n            if (prev26 >= prev200 && last26 < last200) matched = true;\n          }\n        }\n        if (matched) {\n          setResults(r => [{\n            symbol: sym,\n            last26,\n            last200,\n            time: new Date().toLocaleString()\n          }, ...r]);\n        }\n      } catch (e) {\n        // ignore individual symbol errors\n      }\n      setProgress(p => ({\n        ...p,\n        done: p.done + 1\n      }));\n      // respect configured delay\n      await sleep(delayMs);\n    }\n    setRunning(false);\n    setMode(null);\n  }\n  function startGolden() {\n    if (!running) scan('golden');\n  }\n  function startDead() {\n    if (!running) scan('dead');\n  }\n  function stopScan() {\n    cancelRef.current = true;\n    setRunning(false);\n    setMode(null);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 12\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Scanner \\u2014 5m EMA26 / EMA200 Cross\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Scan USDT pairs for golden cross (EMA26 crossing above EMA200) or dead cross (EMA26 crossing below EMA200) on 5-minute timeframe.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: 8,\n        alignItems: 'center',\n        marginBottom: 8\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: startGolden,\n        disabled: running,\n        style: {\n          padding: '8px 12px'\n        },\n        children: \"Start Golden Cross\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: startDead,\n        disabled: running,\n        style: {\n          padding: '8px 12px'\n        },\n        children: \"Start Dead Cross\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: stopScan,\n        disabled: !running,\n        style: {\n          padding: '8px 12px'\n        },\n        children: \"Stop\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Delay between requests:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"range\",\n          min: 200,\n          max: 5000,\n          value: delayMs,\n          onChange: e => setDelayMs(Number(e.target.value))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            minWidth: 72\n          },\n          children: [delayMs, \" ms\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 8\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Progress:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this), \" \", progress.done, \" / \", progress.total || filteredSymbols().length]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 12\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Results found:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this), \" \", results.length]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        maxHeight: 320,\n        overflow: 'auto',\n        border: '1px solid #ddd',\n        padding: 8\n      },\n      children: results.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: '#666'\n        },\n        children: \"No matches yet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 33\n      }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n        style: {\n          width: '100%',\n          borderCollapse: 'collapse'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                textAlign: 'left'\n              },\n              children: \"Symbol\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"EMA26\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 64\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"EMA200\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 78\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 93\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: results.map(r => /*#__PURE__*/_jsxDEV(\"tr\", {\n            style: {\n              borderTop: '1px solid #f0f0f0'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: r.symbol\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: Number(r.last26).toFixed(6)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: Number(r.last200).toFixed(6)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: r.time\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 19\n            }, this)]\n          }, r.symbol, true, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 12\n      },\n      children: /*#__PURE__*/_jsxDEV(\"small\", {\n        style: {\n          color: '#666'\n        },\n        children: \"Notes: The scanner uses Binance Futures public klines endpoint. Be mindful of API rate limits \\u2014 increase delay if you get rate-limited. The scanner filters for symbols ending with USDT by default.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 131,\n    columnNumber: 5\n  }, this);\n}\n_s(ScannerPage, \"MtAreAM1H0S/nGFi4rJe5HH/2W8=\");\n_c = ScannerPage;\nvar _c;\n$RefreshReg$(_c, \"ScannerPage\");","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","jsxDEV","_jsxDEV","calculateEma","values","period","Array","isArray","length","k","out","ema","i","v","Number","isNaN","push","slice","map","s","reduce","a","b","sleep","ms","Promise","r","setTimeout","ScannerPage","availableSymbols","fetchExchangeInfo","_s","mode","setMode","running","setRunning","delayMs","setDelayMs","results","setResults","progress","setProgress","done","total","cancelRef","symbols","e","filteredSymbols","filter","test","scan","type","alert","list","current","endpointBase","sym","url","encodeURIComponent","fetch","ok","status","Math","max","p","data","json","closes","d","parseFloat","ema26","ema200","lastIdx","prevIdx","prev26","prev200","last26","last200","matched","symbol","time","Date","toLocaleString","startGolden","startDead","stopScan","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","display","gap","alignItems","marginBottom","onClick","disabled","min","value","onChange","target","minWidth","maxHeight","overflow","border","color","width","borderCollapse","textAlign","borderTop","toFixed","marginTop","_c","$RefreshReg$"],"sources":["C:/Users/e1it3/Desktop/program/binance_alert/src/pages/ScannerPage.js"],"sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from 'react';\r\n\r\n// Simple EMA implementation: accepts array of numbers and period, returns array of EMA values (same length, first values may be null until seed)\r\nfunction calculateEma(values, period) {\r\n  if (!Array.isArray(values) || values.length === 0) return [];\r\n  const k = 2 / (period + 1);\r\n  const out = [];\r\n  let ema = null;\r\n  for (let i = 0; i < values.length; i++) {\r\n    const v = Number(values[i]);\r\n    if (isNaN(v)) { out.push(null); continue; }\r\n    if (ema === null) {\r\n      // seed with simple moving average of the first `period` values when enough\r\n      if (i + 1 >= period) {\r\n        const slice = values.slice(i + 1 - period, i + 1).map(Number);\r\n        const s = slice.reduce((a, b) => a + b, 0) / period;\r\n        ema = s;\r\n        out.push(ema);\r\n      } else {\r\n        out.push(null);\r\n      }\r\n    } else {\r\n      ema = v * k + ema * (1 - k);\r\n      out.push(ema);\r\n    }\r\n  }\r\n  return out;\r\n}\r\n\r\nfunction sleep(ms) { return new Promise((r) => setTimeout(r, ms)); }\r\n\r\nexport default function ScannerPage({ availableSymbols, fetchExchangeInfo }) {\r\n  const [mode, setMode] = useState(null); // 'golden' | 'dead'\r\n  const [running, setRunning] = useState(false);\r\n  const [delayMs, setDelayMs] = useState(1000);\r\n  const [results, setResults] = useState([]);\r\n  const [progress, setProgress] = useState({ done: 0, total: 0 });\r\n  const cancelRef = useRef(false);\r\n  const symbols = useMemo(() => (Array.isArray(availableSymbols) ? availableSymbols.slice() : []), [availableSymbols]);\r\n\r\n  useEffect(() => {\r\n    // ensure we have symbols (parent fetches on mount)\r\n    if ((!symbols || symbols.length === 0) && typeof fetchExchangeInfo === 'function') {\r\n      try { fetchExchangeInfo(); } catch (e) {}\r\n    }\r\n  }, [symbols, fetchExchangeInfo]);\r\n\r\n  // helper: normalize/filter symbols – prefer USDT perpetual/futures pairs if present\r\n  function filteredSymbols() {\r\n    if (!symbols || symbols.length === 0) return [];\r\n    // prefer USDT pairs\r\n    return symbols.filter(s => typeof s === 'string' && /USDT$/i.test(s));\r\n  }\r\n\r\n  async function scan(type) {\r\n    if (!symbols || symbols.length === 0) {\r\n      alert('Symbol list is empty. Fetching exchange info first.');\r\n      try { await fetchExchangeInfo(); } catch (e) {}\r\n    }\r\n    const list = filteredSymbols();\r\n    setResults([]);\r\n    setProgress({ done: 0, total: list.length });\r\n    cancelRef.current = false;\r\n    setRunning(true);\r\n    setMode(type);\r\n\r\n    const endpointBase = 'https://fapi.binance.com/fapi/v1/klines';\r\n\r\n    for (let i = 0; i < list.length; i++) {\r\n      if (cancelRef.current) break;\r\n      const sym = list[i];\r\n      try {\r\n        // fetch 5m klines, limit 500 to include 200 periods\r\n        const url = `${endpointBase}?symbol=${encodeURIComponent(sym)}&interval=5m&limit=500`;\r\n        const r = await fetch(url);\r\n        if (!r.ok) {\r\n          // skip on error\r\n          if (r.status === 429) {\r\n            // rate limited: back off more\r\n            await sleep(Math.max(delayMs, 2000));\r\n          }\r\n          setProgress((p) => ({ ...p, done: p.done + 1 }));\r\n          await sleep(delayMs);\r\n          continue;\r\n        }\r\n        const data = await r.json();\r\n        // extract close prices\r\n        const closes = data.map(d => parseFloat(d[4]));\r\n        if (!Array.isArray(closes) || closes.length < 210) {\r\n          setProgress((p) => ({ ...p, done: p.done + 1 }));\r\n          await sleep(delayMs);\r\n          continue;\r\n        }\r\n        const ema26 = calculateEma(closes, 26);\r\n        const ema200 = calculateEma(closes, 200);\r\n        const lastIdx = closes.length - 1;\r\n        const prevIdx = lastIdx - 1;\r\n        const prev26 = ema26[prevIdx];\r\n        const prev200 = ema200[prevIdx];\r\n        const last26 = ema26[lastIdx];\r\n        const last200 = ema200[lastIdx];\r\n        let matched = false;\r\n        if (typeof prev26 === 'number' && typeof prev200 === 'number' && typeof last26 === 'number' && typeof last200 === 'number') {\r\n          if (type === 'golden') {\r\n            // previous below or equal, now above\r\n            if (prev26 <= prev200 && last26 > last200) matched = true;\r\n          } else if (type === 'dead') {\r\n            if (prev26 >= prev200 && last26 < last200) matched = true;\r\n          }\r\n        }\r\n        if (matched) {\r\n          setResults((r) => [{ symbol: sym, last26, last200, time: new Date().toLocaleString() }, ...r]);\r\n        }\r\n      } catch (e) {\r\n        // ignore individual symbol errors\r\n      }\r\n      setProgress((p) => ({ ...p, done: p.done + 1 }));\r\n      // respect configured delay\r\n      await sleep(delayMs);\r\n    }\r\n\r\n    setRunning(false);\r\n    setMode(null);\r\n  }\r\n\r\n  function startGolden() { if (!running) scan('golden'); }\r\n  function startDead() { if (!running) scan('dead'); }\r\n  function stopScan() { cancelRef.current = true; setRunning(false); setMode(null); }\r\n\r\n  return (\r\n    <div style={{ padding: 12 }}>\r\n      <h3>Scanner — 5m EMA26 / EMA200 Cross</h3>\r\n      <p>Scan USDT pairs for golden cross (EMA26 crossing above EMA200) or dead cross (EMA26 crossing below EMA200) on 5-minute timeframe.</p>\r\n\r\n      <div style={{ display: 'flex', gap: 8, alignItems: 'center', marginBottom: 8 }}>\r\n        <button onClick={startGolden} disabled={running} style={{ padding: '8px 12px' }}>Start Golden Cross</button>\r\n        <button onClick={startDead} disabled={running} style={{ padding: '8px 12px' }}>Start Dead Cross</button>\r\n        <button onClick={stopScan} disabled={!running} style={{ padding: '8px 12px' }}>Stop</button>\r\n        <div style={{ display: 'flex', alignItems: 'center', gap: 8 }}>\r\n          <label>Delay between requests:</label>\r\n          <input type=\"range\" min={200} max={5000} value={delayMs} onChange={(e) => setDelayMs(Number(e.target.value))} />\r\n          <div style={{ minWidth: 72 }}>{delayMs} ms</div>\r\n        </div>\r\n      </div>\r\n\r\n      <div style={{ marginBottom: 8 }}>\r\n        <strong>Progress:</strong> {progress.done} / {progress.total || filteredSymbols().length}\r\n      </div>\r\n\r\n      <div style={{ marginBottom: 12 }}>\r\n        <strong>Results found:</strong> {results.length}\r\n      </div>\r\n\r\n      <div style={{ maxHeight: 320, overflow: 'auto', border: '1px solid #ddd', padding: 8 }}>\r\n        {results.length === 0 ? <div style={{ color: '#666' }}>No matches yet.</div> : (\r\n          <table style={{ width: '100%', borderCollapse: 'collapse' }}>\r\n            <thead>\r\n              <tr><th style={{ textAlign: 'left' }}>Symbol</th><th>EMA26</th><th>EMA200</th><th>Time</th></tr>\r\n            </thead>\r\n            <tbody>\r\n              {results.map((r) => (\r\n                <tr key={r.symbol} style={{ borderTop: '1px solid #f0f0f0' }}>\r\n                  <td>{r.symbol}</td>\r\n                  <td>{Number(r.last26).toFixed(6)}</td>\r\n                  <td>{Number(r.last200).toFixed(6)}</td>\r\n                  <td>{r.time}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        )}\r\n      </div>\r\n\r\n      <div style={{ marginTop: 12 }}>\r\n        <small style={{ color: '#666' }}>Notes: The scanner uses Binance Futures public klines endpoint. Be mindful of API rate limits — increase delay if you get rate-limited. The scanner filters for symbols ending with USDT by default.</small>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}