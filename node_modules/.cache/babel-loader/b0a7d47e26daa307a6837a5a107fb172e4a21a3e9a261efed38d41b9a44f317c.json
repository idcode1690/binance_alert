{"ast":null,"code":"import React from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function TopMenu(_ref){let{onNavigate,view,darkMode,toggleDark,serverSymbol,sseConnected,lastHealthyAt,telegramConfigured}=_ref;function formatAge(ts){if(!ts)return null;const diff=Math.max(0,Date.now()-ts);if(diff<1000)return'just now';if(diff<60000)return\"\".concat(Math.floor(diff/1000),\"s ago\");if(diff<3600000)return\"\".concat(Math.floor(diff/60000),\"m ago\");return\"\".concat(Math.floor(diff/3600000),\"h ago\");}const age=formatAge(lastHealthyAt);const fresh=lastHealthyAt&&Date.now()-lastHealthyAt<30000;return/*#__PURE__*/_jsx(\"div\",{className:\"top-menu-bar\",style:{width:'100%',display:'flex',justifyContent:'center',padding:'10px 0',background:'transparent'},children:/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:980,width:'100%',display:'flex',gap:8,justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:8,justifyContent:'flex-start',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"button\",{className:\"menu-btn \".concat(view==='alerts'?'active':''),onClick:()=>onNavigate&&onNavigate('alerts'),children:\"Alerts\"}),/*#__PURE__*/_jsx(\"button\",{className:\"menu-btn \".concat(view==='scanner'?'active':''),onClick:()=>onNavigate&&onNavigate('scanner'),children:\"Scanner\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:12},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.8rem'},children:[/*#__PURE__*/_jsxs(\"span\",{style:{marginRight:8},children:[\"Server: \",serverSymbol||'n/a']}),/*#__PURE__*/_jsx(\"span\",{className:sseConnected?'status-connected':'status-disconnected',children:sseConnected?'SSE: connected':'SSE: disconnected'})]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.75rem'},children:[/*#__PURE__*/_jsxs(\"span\",{style:{marginRight:8},children:[\"Telegram: \",typeof telegramConfigured==='boolean'?telegramConfigured?'ok':'not configured':'unknown']}),/*#__PURE__*/_jsx(\"span\",{className:fresh?'status-connected':'status-disconnected',children:age?\"healthy \".concat(age):'no health'})]}),/*#__PURE__*/_jsx(\"button\",{className:\"menu-btn theme-toggle \".concat(darkMode?'active':''),onClick:()=>toggleDark&&toggleDark(),title:darkMode?'Light mode':'Dark mode',\"aria-pressed\":!!darkMode,children:darkMode?'Dark':'Light'})]})]})});}","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","TopMenu","_ref","onNavigate","view","darkMode","toggleDark","serverSymbol","sseConnected","lastHealthyAt","telegramConfigured","formatAge","ts","diff","Math","max","Date","now","concat","floor","age","fresh","className","style","width","display","justifyContent","padding","background","children","maxWidth","gap","alignItems","onClick","fontSize","marginRight","title"],"sources":["C:/Users/e1it3/Desktop/program/binance_alert/src/components/TopMenu.js"],"sourcesContent":["import React from 'react';\r\n\r\nexport default function TopMenu({ onNavigate, view, darkMode, toggleDark, serverSymbol, sseConnected, lastHealthyAt, telegramConfigured }) {\r\n  function formatAge(ts) {\r\n    if (!ts) return null;\r\n    const diff = Math.max(0, Date.now() - ts);\r\n    if (diff < 1000) return 'just now';\r\n    if (diff < 60000) return `${Math.floor(diff / 1000)}s ago`;\r\n    if (diff < 3600000) return `${Math.floor(diff / 60000)}m ago`;\r\n    return `${Math.floor(diff / 3600000)}h ago`;\r\n  }\r\n  const age = formatAge(lastHealthyAt);\r\n  const fresh = lastHealthyAt && (Date.now() - lastHealthyAt) < 30000;\r\n\r\n  return (\r\n    <div className=\"top-menu-bar\" style={{width: '100%', display: 'flex', justifyContent: 'center', padding: '10px 0', background: 'transparent'}}>\r\n      <div style={{maxWidth: 980, width: '100%', display: 'flex', gap: 8, justifyContent: 'space-between', alignItems: 'center'}}>\r\n        <div style={{display: 'flex', gap: 8, justifyContent: 'flex-start', alignItems: 'center'}}>\r\n          <button className={`menu-btn ${view === 'alerts' ? 'active' : ''}`} onClick={() => onNavigate && onNavigate('alerts')}>Alerts</button>\r\n          <button className={`menu-btn ${view === 'scanner' ? 'active' : ''}`} onClick={() => onNavigate && onNavigate('scanner')}>Scanner</button>\r\n        </div>\r\n        <div style={{display: 'flex', alignItems: 'center', gap: 12}}>\r\n          <div style={{fontSize: '0.8rem'}}>\r\n            <span style={{marginRight: 8}}>Server: {serverSymbol || 'n/a'}</span>\r\n            <span className={sseConnected ? 'status-connected' : 'status-disconnected'}>{sseConnected ? 'SSE: connected' : 'SSE: disconnected'}</span>\r\n          </div>\r\n          <div style={{fontSize: '0.75rem'}}>\r\n            <span style={{marginRight: 8}}>Telegram: {typeof telegramConfigured === 'boolean' ? (telegramConfigured ? 'ok' : 'not configured') : 'unknown'}</span>\r\n            <span className={fresh ? 'status-connected' : 'status-disconnected'}>{age ? `healthy ${age}` : 'no health'}</span>\r\n          </div>\r\n          <button className={`menu-btn theme-toggle ${darkMode ? 'active' : ''}`} onClick={() => toggleDark && toggleDark()} title={darkMode ? 'Light mode' : 'Dark mode'} aria-pressed={!!darkMode}>\r\n            {darkMode ? 'Dark' : 'Light'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,cAAe,SAAS,CAAAC,OAAOA,CAAAC,IAAA,CAA4G,IAA3G,CAAEC,UAAU,CAAEC,IAAI,CAAEC,QAAQ,CAAEC,UAAU,CAAEC,YAAY,CAAEC,YAAY,CAAEC,aAAa,CAAEC,kBAAmB,CAAC,CAAAR,IAAA,CACvI,QAAS,CAAAS,SAASA,CAACC,EAAE,CAAE,CACrB,GAAI,CAACA,EAAE,CAAE,MAAO,KAAI,CACpB,KAAM,CAAAC,IAAI,CAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,CAAEC,IAAI,CAACC,GAAG,CAAC,CAAC,CAAGL,EAAE,CAAC,CACzC,GAAIC,IAAI,CAAG,IAAI,CAAE,MAAO,UAAU,CAClC,GAAIA,IAAI,CAAG,KAAK,CAAE,SAAAK,MAAA,CAAUJ,IAAI,CAACK,KAAK,CAACN,IAAI,CAAG,IAAI,CAAC,UACnD,GAAIA,IAAI,CAAG,OAAO,CAAE,SAAAK,MAAA,CAAUJ,IAAI,CAACK,KAAK,CAACN,IAAI,CAAG,KAAK,CAAC,UACtD,SAAAK,MAAA,CAAUJ,IAAI,CAACK,KAAK,CAACN,IAAI,CAAG,OAAO,CAAC,UACtC,CACA,KAAM,CAAAO,GAAG,CAAGT,SAAS,CAACF,aAAa,CAAC,CACpC,KAAM,CAAAY,KAAK,CAAGZ,aAAa,EAAKO,IAAI,CAACC,GAAG,CAAC,CAAC,CAAGR,aAAa,CAAI,KAAK,CAEnE,mBACEX,IAAA,QAAKwB,SAAS,CAAC,cAAc,CAACC,KAAK,CAAE,CAACC,KAAK,CAAE,MAAM,CAAEC,OAAO,CAAE,MAAM,CAAEC,cAAc,CAAE,QAAQ,CAAEC,OAAO,CAAE,QAAQ,CAAEC,UAAU,CAAE,aAAa,CAAE,CAAAC,QAAA,cAC5I7B,KAAA,QAAKuB,KAAK,CAAE,CAACO,QAAQ,CAAE,GAAG,CAAEN,KAAK,CAAE,MAAM,CAAEC,OAAO,CAAE,MAAM,CAAEM,GAAG,CAAE,CAAC,CAAEL,cAAc,CAAE,eAAe,CAAEM,UAAU,CAAE,QAAQ,CAAE,CAAAH,QAAA,eACzH7B,KAAA,QAAKuB,KAAK,CAAE,CAACE,OAAO,CAAE,MAAM,CAAEM,GAAG,CAAE,CAAC,CAAEL,cAAc,CAAE,YAAY,CAAEM,UAAU,CAAE,QAAQ,CAAE,CAAAH,QAAA,eACxF/B,IAAA,WAAQwB,SAAS,aAAAJ,MAAA,CAAcd,IAAI,GAAK,QAAQ,CAAG,QAAQ,CAAG,EAAE,CAAG,CAAC6B,OAAO,CAAEA,CAAA,GAAM9B,UAAU,EAAIA,UAAU,CAAC,QAAQ,CAAE,CAAA0B,QAAA,CAAC,QAAM,CAAQ,CAAC,cACtI/B,IAAA,WAAQwB,SAAS,aAAAJ,MAAA,CAAcd,IAAI,GAAK,SAAS,CAAG,QAAQ,CAAG,EAAE,CAAG,CAAC6B,OAAO,CAAEA,CAAA,GAAM9B,UAAU,EAAIA,UAAU,CAAC,SAAS,CAAE,CAAA0B,QAAA,CAAC,SAAO,CAAQ,CAAC,EACtI,CAAC,cACN7B,KAAA,QAAKuB,KAAK,CAAE,CAACE,OAAO,CAAE,MAAM,CAAEO,UAAU,CAAE,QAAQ,CAAED,GAAG,CAAE,EAAE,CAAE,CAAAF,QAAA,eAC3D7B,KAAA,QAAKuB,KAAK,CAAE,CAACW,QAAQ,CAAE,QAAQ,CAAE,CAAAL,QAAA,eAC/B7B,KAAA,SAAMuB,KAAK,CAAE,CAACY,WAAW,CAAE,CAAC,CAAE,CAAAN,QAAA,EAAC,UAAQ,CAACtB,YAAY,EAAI,KAAK,EAAO,CAAC,cACrET,IAAA,SAAMwB,SAAS,CAAEd,YAAY,CAAG,kBAAkB,CAAG,qBAAsB,CAAAqB,QAAA,CAAErB,YAAY,CAAG,gBAAgB,CAAG,mBAAmB,CAAO,CAAC,EACvI,CAAC,cACNR,KAAA,QAAKuB,KAAK,CAAE,CAACW,QAAQ,CAAE,SAAS,CAAE,CAAAL,QAAA,eAChC7B,KAAA,SAAMuB,KAAK,CAAE,CAACY,WAAW,CAAE,CAAC,CAAE,CAAAN,QAAA,EAAC,YAAU,CAAC,MAAO,CAAAnB,kBAAkB,GAAK,SAAS,CAAIA,kBAAkB,CAAG,IAAI,CAAG,gBAAgB,CAAI,SAAS,EAAO,CAAC,cACtJZ,IAAA,SAAMwB,SAAS,CAAED,KAAK,CAAG,kBAAkB,CAAG,qBAAsB,CAAAQ,QAAA,CAAET,GAAG,YAAAF,MAAA,CAAcE,GAAG,EAAK,WAAW,CAAO,CAAC,EAC/G,CAAC,cACNtB,IAAA,WAAQwB,SAAS,0BAAAJ,MAAA,CAA2Bb,QAAQ,CAAG,QAAQ,CAAG,EAAE,CAAG,CAAC4B,OAAO,CAAEA,CAAA,GAAM3B,UAAU,EAAIA,UAAU,CAAC,CAAE,CAAC8B,KAAK,CAAE/B,QAAQ,CAAG,YAAY,CAAG,WAAY,CAAC,eAAc,CAAC,CAACA,QAAS,CAAAwB,QAAA,CACvLxB,QAAQ,CAAG,MAAM,CAAG,OAAO,CACtB,CAAC,EACN,CAAC,EACH,CAAC,CACH,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}