{"ast":null,"code":"import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Alerts(_ref){let{events=[],removeAlertByTs,symbol,symbolValid,status,connect,disconnect,monitorMinutes,monitorEma1,monitorEma2,monitorConfirm}=_ref;// Only show primary alert events (bull/bear). Hide telegram_send / telegram status events\nconst normTarget=(symbol||'').toString().replace(/[^A-Za-z0-9]/g,'').toUpperCase();const visible=(events||[]).filter(ev=>{try{if(!ev||!ev.type)return false;const t=(ev.type||'').toString();// hide auxiliary telegram events\nif(t.startsWith('telegram'))return false;// only show items for the currently-selected symbol\nconst evSym=(ev.symbol||'').toString().replace(/[^A-Za-z0-9]/g,'').toUpperCase();if(normTarget&&evSym!==normTarget)return false;// show only bull/bear or similar alert types\nreturn t==='bull'||t==='bear'||t==='alert';}catch(e){return false;}});const[copiedSymbol,setCopiedSymbol]=useState(null);const copyToClipboard=async s=>{try{if(navigator&&navigator.clipboard&&navigator.clipboard.writeText){await navigator.clipboard.writeText(s);}else{const ta=document.createElement('textarea');ta.value=s;document.body.appendChild(ta);ta.select();document.execCommand('copy');document.body.removeChild(ta);}setCopiedSymbol(s);setTimeout(()=>setCopiedSymbol(null),1200);}catch(e){}};if(!visible||visible.length===0)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"alerts\",children:[/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',alignItems:'center',gap:8,justifyContent:'space-between'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:8},children:[/*#__PURE__*/_jsx(\"div\",{className:\"alerts-title\",children:\"Alerts\"}),/*#__PURE__*/_jsx(\"div\",{className:\"monitor-badge\",children:\"\".concat(monitorMinutes,\"m \\xB7 EMA\").concat(monitorEma1,\"/\").concat(monitorEma2)})]})}),/*#__PURE__*/_jsx(\"ul\",{className:\"alerts-list\",children:visible.map((ev,i)=>{var _ev$ts;return/*#__PURE__*/_jsxs(\"li\",{className:\"alert-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"alert-left\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"alert-indicator \".concat(ev.type==='bull'?'bull':'bear')}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"alert-symbol copy-btn \".concat(copiedSymbol===ev.symbol?'copied':''),title:\"Copy symbol\",onClick:e=>{e.preventDefault();copyToClipboard(ev.symbol||'');},children:ev.symbol||''})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"alert-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"alert-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"alert-type-short\",children:ev.type==='bull'?'Bull':'Bear'}),/*#__PURE__*/_jsx(\"div\",{className:\"alert-time\",children:ev.time})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"alert-right\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"alert-price\",children:typeof ev.price==='number'?ev.price:ev.price}),/*#__PURE__*/_jsx(\"div\",{className:\"alert-source\",children:ev.source||''}),/*#__PURE__*/_jsx(\"button\",{className:\"delete-btn\",onClick:()=>removeAlertByTs(ev.ts),\"aria-label\":\"\\uC0AD\\uC81C\",title:\"\\uC0AD\\uC81C\",children:\"\\u2715\"})]})]})]},(_ev$ts=ev===null||ev===void 0?void 0:ev.ts)!==null&&_ev$ts!==void 0?_ev$ts:i);})})]});}","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","Alerts","_ref","events","removeAlertByTs","symbol","symbolValid","status","connect","disconnect","monitorMinutes","monitorEma1","monitorEma2","monitorConfirm","normTarget","toString","replace","toUpperCase","visible","filter","ev","type","t","startsWith","evSym","e","copiedSymbol","setCopiedSymbol","copyToClipboard","s","navigator","clipboard","writeText","ta","document","createElement","value","body","appendChild","select","execCommand","removeChild","setTimeout","length","className","children","style","display","alignItems","gap","justifyContent","concat","map","i","_ev$ts","title","onClick","preventDefault","time","price","source","ts"],"sources":["C:/Users/e1it3/Desktop/program/binance_alert/src/components/Alerts.js"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\nexport default function Alerts({ events = [], removeAlertByTs, symbol, symbolValid, status, connect, disconnect, monitorMinutes, monitorEma1, monitorEma2, monitorConfirm }) {\r\n  // Only show primary alert events (bull/bear). Hide telegram_send / telegram status events\r\n  const normTarget = (symbol || '').toString().replace(/[^A-Za-z0-9]/g, '').toUpperCase();\r\n  const visible = (events || []).filter((ev) => {\r\n    try {\r\n      if (!ev || !ev.type) return false;\r\n      const t = (ev.type || '').toString();\r\n      // hide auxiliary telegram events\r\n      if (t.startsWith('telegram')) return false;\r\n      // only show items for the currently-selected symbol\r\n      const evSym = (ev.symbol || '').toString().replace(/[^A-Za-z0-9]/g, '').toUpperCase();\r\n      if (normTarget && evSym !== normTarget) return false;\r\n      // show only bull/bear or similar alert types\r\n      return t === 'bull' || t === 'bear' || t === 'alert';\r\n    } catch (e) {\r\n      return false;\r\n    }\r\n  });\r\n  const [copiedSymbol, setCopiedSymbol] = useState(null);\r\n\r\n  const copyToClipboard = async (s) => {\r\n    try {\r\n      if (navigator && navigator.clipboard && navigator.clipboard.writeText) {\r\n        await navigator.clipboard.writeText(s);\r\n      } else {\r\n        const ta = document.createElement('textarea');\r\n        ta.value = s;\r\n        document.body.appendChild(ta);\r\n        ta.select();\r\n        document.execCommand('copy');\r\n        document.body.removeChild(ta);\r\n      }\r\n      setCopiedSymbol(s);\r\n      setTimeout(() => setCopiedSymbol(null), 1200);\r\n    } catch (e) {}\r\n  };\r\n\r\n  if (!visible || visible.length === 0) return null;\r\n\r\n  return (\r\n    <div className=\"alerts\">\r\n      <div style={{display: 'flex', alignItems: 'center', gap: 8, justifyContent: 'space-between'}}>\r\n        <div style={{display:'flex', alignItems:'center', gap:8}}>\r\n          <div className=\"alerts-title\">Alerts</div>\r\n          <div className=\"monitor-badge\">{`${monitorMinutes}m · EMA${monitorEma1}/${monitorEma2}`}</div>\r\n        </div>\r\n      </div>\r\n\r\n      <ul className=\"alerts-list\">\r\n        {visible.map((ev, i) => (\r\n          <li key={ev?.ts ?? i} className=\"alert-item\">\r\n            <div className=\"alert-left\">\r\n              <span className={`alert-indicator ${ev.type === 'bull' ? 'bull' : 'bear'}`} />\r\n              <button type=\"button\" className={`alert-symbol copy-btn ${copiedSymbol === ev.symbol ? 'copied' : ''}`} title=\"Copy symbol\" onClick={(e) => { e.preventDefault(); copyToClipboard(ev.symbol || ''); }}>\r\n                {ev.symbol || ''}\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"alert-body\">\r\n              <div className=\"alert-info\">\r\n                <div className=\"alert-type-short\">{ev.type === 'bull' ? 'Bull' : 'Bear'}</div>\r\n                <div className=\"alert-time\">{ev.time}</div>\r\n              </div>\r\n              <div className=\"alert-right\">\r\n                <div className=\"alert-price\">{typeof ev.price === 'number' ? ev.price : ev.price}</div>\r\n                <div className=\"alert-source\">{ev.source || ''}</div>\r\n                <button className=\"delete-btn\" onClick={() => removeAlertByTs(ev.ts)} aria-label=\"삭제\" title=\"삭제\">✕</button>\r\n              </div>\r\n            </div>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}